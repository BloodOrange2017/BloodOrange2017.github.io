<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>






<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="Do one thing at a time, and do well.">
<meta property="og:type" content="website">
<meta property="og:title" content="XueCheng Notes">
<meta property="og:url" content="https://bloodorange2017.github.io/archives/index.html">
<meta property="og:site_name" content="XueCheng Notes">
<meta property="og:description" content="Do one thing at a time, and do well.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="XueCheng Notes">
<meta name="twitter:description" content="Do one thing at a time, and do well.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://bloodorange2017.github.io/archives/"/>





  <title>XueCheng Notes</title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">XueCheng Notes</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">Where there is a will, there is a way.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2099/09/09/img-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2099/09/09/img-01/" itemprop="url">æ¬¢è¿æ¥åˆ°è–›æˆçš„åšå®¢</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2099-09-09T12:00:00+08:00">
                2099-09-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><img src="http://dtbfiles.oss-cn-shenzhen.aliyuncs.com/img/2017/05/05/asong.jpg"></p>
<div class="collection-title"><br>          <h2>åšå®¢ä¸­æ–‡ç« ä»…æœ¬äººå­¦ä¹ ä½¿ç”¨ï¼Œå¦‚æœ‰ä¾µæƒè¯·å°½å¿«é€šçŸ¥åšä¸»åˆ é™¤</h2><br>        </div>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2099/09/08/pptCatalog-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2099/09/08/pptCatalog-01/" itemprop="url">JAVAEE å­¦ä¹ èµ„æ–™</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2099-09-08T15:56:57+08:00">
                2099-09-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p></p><h2>JAVAEE PPTç›®å½•</h2><br><br><p></p>
<p><b>1.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/ActiveMQå¿«é€Ÿä¸Šæ‰‹.pdf">ActiveMQå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>2.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/Gitå¿«é€Ÿä¸Šæ‰‹.pdf">Gitå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>3.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/Mavenè¡¥å…….pdf">Mavenè¡¥å…….pdf</a></p><p><b>4.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/Memcachedå¿«é€Ÿä¸Šæ‰‹.pdf">Memcachedå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>5.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/MogileFSå¿«é€Ÿä¸Šæ‰‹.pdf">MogileFSå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>6.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/MongoDBå¿«é€Ÿä¸Šæ‰‹.pdf">MongoDBå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>7.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/Nginxå¿«é€Ÿä¸Šæ‰‹.pdf">Nginxå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>8.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/Varnishå¿«é€Ÿä¸Šæ‰‹.pdf">Varnishå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>9.</b><a href="/stutyData/æ¶æ„ç¬¬ä¸€ä»£ç å’Œppt/åŸºæœ¬ä¸šåŠ¡åŠŸèƒ½.pdf">åŸºæœ¬ä¸šåŠ¡åŠŸèƒ½.pdf</a></p><br><h2>ğŸ’»ç« èŠ‚éš”æ–­ğŸ’»</h2><br><p><b>1.</b><a href="/stutyData/x-gen-ppt/ä½¿ç”¨å¤–éƒ¨ä¸»é¢˜.pdf">ä½¿ç”¨å¤–éƒ¨ä¸»é¢˜.pdf</a></p><p><b>2.</b><a href="/stutyData/x-gen-ppt/å…·ä½“è°ƒç”¨.pdf">å…·ä½“è°ƒç”¨.pdf</a></p><p><b>3.</b><a href="/stutyData/x-gen-ppt/åˆ†å‘è°ƒåº¦.pdf">åˆ†å‘è°ƒåº¦.pdf</a></p><p><b>4.</b><a href="/stutyData/x-gen-ppt/æ•´ä½“ä»‹ç».pdf">æ•´ä½“ä»‹ç».pdf</a></p><p><b>5.</b><a href="/stutyData/x-gen-ppt/æ¨¡æ¿ç®¡ç†.pdf">æ¨¡æ¿ç®¡ç†.pdf</a></p><p><b>6.</b><a href="/stutyData/x-gen-ppt/ç”Ÿæˆä»£ç†.pdf">ç”Ÿæˆä»£ç†.pdf</a></p><p><b>7.</b><a href="/stutyData/x-gen-ppt/ç”Ÿæˆè¾“å‡º.pdf">ç”Ÿæˆè¾“å‡º.pdf</a></p><p><b>8.</b><a href="/stutyData/x-gen-ppt/è‡ªå®šä¹‰å¤–éƒ¨ä¸»é¢˜.pdf">è‡ªå®šä¹‰å¤–éƒ¨ä¸»é¢˜.pdf</a></p><p><b>9.</b><a href="/stutyData/x-gen-ppt/é…ç½®ç®¡ç†.pdf">é…ç½®ç®¡ç†.pdf</a></p><br><h2>ğŸ’»ç« èŠ‚éš”æ–­ğŸ’»</h2><br><p><b>1.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/MySQLå…¥é—¨åˆ°ç²¾é€šç»å…¸æ•™ç¨‹.pdf">MySQLå…¥é—¨åˆ°ç²¾é€šç»å…¸æ•™ç¨‹.pdf</a></p><p><b>2.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/äº†ä¸èµ·çš„NodeJS.pdf">äº†ä¸èµ·çš„NodeJS.pdf</a></p><p><b>3.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/åˆ†å¸ƒå¼Javaåº”ç”¨.pdf">åˆ†å¸ƒå¼Javaåº”ç”¨.pdf</a></p><p><b>4.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/åˆ é™¤ï¼šå¤§æ•°æ®å–èˆä¹‹é“ï¼ˆè‹±ï¼‰ç»´å…‹æ‰˜Â·è¿ˆå°”-èˆæ©ä¼¯æ ¼.pdf">åˆ é™¤ï¼šå¤§æ•°æ®å–èˆä¹‹é“ï¼ˆè‹±ï¼‰ç»´å…‹æ‰˜Â·è¿ˆå°”-èˆæ©ä¼¯æ ¼.pdf</a></p><p><b>5.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/å¤§è§„æ¨¡åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼šåŸç†è§£æä¸æ¶æ„å®æˆ˜.pdf">å¤§è§„æ¨¡åˆ†å¸ƒå¼å­˜å‚¨ç³»ç»Ÿï¼šåŸç†è§£æä¸æ¶æ„å®æˆ˜.pdf</a></p><p><b>6.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/æ„å»ºé«˜æ€§èƒ½Webç«™ç‚¹.pdf">æ„å»ºé«˜æ€§èƒ½Webç«™ç‚¹.pdf</a></p><p><b>7.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/æ·˜å®æŠ€æœ¯æ¶æ„.pdf">æ·˜å®æŠ€æœ¯æ¶æ„.pdf</a></p><p><b>8.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/æ·˜å®æŠ€æœ¯è¿™åå¹´ï¼Œå®Œæ•´æœ€ç»ˆç¡®è®¤ç‰ˆ.pdf.pdf">æ·˜å®æŠ€æœ¯è¿™åå¹´ï¼Œå®Œæ•´æœ€ç»ˆç¡®è®¤ç‰ˆ.pdf.pdf</a></p><p><b>9.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/ç³»ç»Ÿæ¶æ„è®¾è®¡å¸ˆæ•™ç¨‹.pdf">ç³»ç»Ÿæ¶æ„è®¾è®¡å¸ˆæ•™ç¨‹.pdf</a></p><p><b>10.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/è®©Oracleè·‘å¾—æ›´å¿«.pdf">è®©Oracleè·‘å¾—æ›´å¿«.pdf</a></p><p><b>11.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/è®©Oracleè·‘å¾—æ›´å¿«2  åŸºäºæµ·é‡æ•°æ®çš„æ•°æ®åº“è®¾è®¡ä¸ä¼˜åŒ–.pdf">è®©Oracleè·‘å¾—æ›´å¿«2  åŸºäºæµ·é‡æ•°æ®çš„æ•°æ®åº“è®¾è®¡ä¸ä¼˜åŒ–.pdf</a></p><p><b>12.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/è±†ç“£æ•°æ®æ¶æ„å®è·µ-å‘˜æ—­é¹.pdf">è±†ç“£æ•°æ®æ¶æ„å®è·µ-å‘˜æ—­é¹.pdf</a></p><p><b>13.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/é˜¿é‡Œåˆ†å¸ƒå¼æ•°æ®åº“æœåŠ¡å®è·µwangjingyu.pdf">é˜¿é‡Œåˆ†å¸ƒå¼æ•°æ®åº“æœåŠ¡å®è·µwangjingyu.pdf</a></p><p><b>14.</b><a href="/stutyData/05Javaæ¶æ„å¸ˆå®æˆ˜/é«˜æ€§èƒ½é«˜å¹¶å‘æœåŠ¡å™¨æ¶æ„.pdf">é«˜æ€§èƒ½é«˜å¹¶å‘æœåŠ¡å™¨æ¶æ„.pdf</a></p><br><h2>ğŸ’»ç« èŠ‚éš”æ–­ğŸ’»</h2><br><p><b>1.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/.DS_Store">.DS_Store</a></p><p><b>2.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Keepalivedå¿«é€Ÿä¸Šæ‰‹.pdf">Keepalivedå¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>3.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Nginxå’ŒVarnishä¼˜åŒ–è¡¥å…….pdf">Nginxå’ŒVarnishä¼˜åŒ–è¡¥å…….pdf</a></p><p><b>4.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Redisä¸Šæ‰‹ä¹‹å.pdf">Redisä¸Šæ‰‹ä¹‹å.pdf</a></p><p><b>5.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Rediså¿«é€Ÿä¸Šæ‰‹.pdf">Rediså¿«é€Ÿä¸Šæ‰‹.pdf</a></p><p><b>6.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/SQLä¼˜åŒ–.pdf">SQLä¼˜åŒ–.pdf</a></p><p><b>7.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Webç¼“å­˜å’Œé™æ€åŒ–.pdf">Webç¼“å­˜å’Œé™æ€åŒ–.pdf</a></p><p><b>8.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Webè¡¨ç°å±‚å…¶å®ƒ.pdf">Webè¡¨ç°å±‚å…¶å®ƒ.pdf</a></p><p><b>9.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/Webè¡¨ç°å±‚æ€§èƒ½ä¼˜åŒ–.pdf">Webè¡¨ç°å±‚æ€§èƒ½ä¼˜åŒ–.pdf</a></p><p><b>10.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/åˆ†å¸ƒå¼éƒ¨ç½².pdf">åˆ†å¸ƒå¼éƒ¨ç½².pdf</a></p><p><b>11.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/åˆ†å¸ƒå¼éƒ¨ç½²åçš„å¸¸è§é—®é¢˜.pdf">åˆ†å¸ƒå¼éƒ¨ç½²åçš„å¸¸è§é—®é¢˜.pdf</a></p><p><b>12.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/å¤§æ•°æ®é‡å¤„ç†.pdf">å¤§æ•°æ®é‡å¤„ç†.pdf</a></p><p><b>13.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/å¼‚æ­¥è§„åˆ’å’Œé›†ç¾¤å’Œä¼˜åŒ–.pdf">å¼‚æ­¥è§„åˆ’å’Œé›†ç¾¤å’Œä¼˜åŒ–.pdf</a></p><p><b>14.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/æ•°æ®å±‚å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–.pdf">æ•°æ®å±‚å¤„ç†å’Œæ€§èƒ½ä¼˜åŒ–.pdf</a></p><p><b>15.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–.pdf">æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–.pdf</a></p><p><b>16.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/æ•´ä½“ä»‹ç».pdf">æ•´ä½“ä»‹ç».pdf</a></p><p><b>17.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/æœ€åçš„è¯.pdf">æœ€åçš„è¯.pdf</a></p><p><b>18.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/ç¼“å­˜è§„åˆ’å’Œé›†ç¾¤.pdf">ç¼“å­˜è§„åˆ’å’Œé›†ç¾¤.pdf</a></p><p><b>19.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/é€»è¾‘å±‚å…¶å®ƒ.pdf">é€»è¾‘å±‚å…¶å®ƒ.pdf</a></p><p><b>20.</b><a href="/stutyData/æ¶æ„ç¬¬äºŒä»£ç å®æˆ˜çŸ¥è¯†/é«˜å¹¶å‘å¤„ç†.pdf">é«˜å¹¶å‘å¤„ç†.pdf</a></p>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2017/06/16/activeMq-03/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/16/activeMq-03/" itemprop="url">Sping+ActiveMQæ•´åˆ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-16T17:13:23+08:00">
                2017-06-16
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>&lt;div class=&quot;entry&quot;&gt;
</code></pre><p>é€šè¿‡å‰ä¸€ç¯‡ã€Š<a href="http://blog.csdn.net/u013256816/article/details/51161548" class="external" rel="nofollow" target="_blank">ActiveMQç®€è¿°</a>ã€‹å¤§æ¦‚å¯¹ActiveMQæœ‰äº†ä¸€ä¸ªå¤§æ¦‚çš„è®¤è¯†ï¼Œæœ¬ç¯‡æ‰€é˜è¿°çš„æ˜¯å¦‚ä½•é€šè¿‡Springç»§æ‰¿ActiveMQè¿›è€Œæ›´æœ‰æ•ˆã€æ›´çµæ´»çš„è¿ç”¨ActiveMQ.</p><br><p>Springå’ŒActiveMQæ•´åˆéœ€è¦åœ¨é¡¹ç›®ä¸­åŒ…å«ä»¥ä¸‹è¿™å‡ ä¸ªjaråŒ…ï¼ˆç¼ºä¸€ä¸å¯ï¼‰ï¼šactiveio-core-3.1.4.jarï¼Œactivemq-all-5.13.2.jarï¼Œactivemq-pool-5.13.2.jarï¼Œcommons-pool2-2.4.2.jarï¼Œè¿™äº›jarå¯ä»¥åœ¨ActiveMQçš„å®‰è£…åŒ…ä¸­çš„/lib/optional/ä¸‹æ‰¾åˆ°ï¼Œæˆ–è€…ä»<a href="http://download.csdn.net/detail/u013256816/9492418" class="external" rel="nofollow" target="_blank">è¿™é‡Œ</a>ä¸‹è½½ã€‚</p><br><h2 id="é…ç½®connectionfactory"><a name="t0"></a>é…ç½®ConnectionFactory</h2><br><p>ConnectionFactoryæ˜¯ç”¨äºäº§ç”Ÿåˆ°JMSæœåŠ¡å™¨çš„é“¾æ¥çš„ï¼ŒSpringä¸ºæˆ‘ä»¬æä¾›äº†å¤šä¸ªConnectionFactoryï¼Œæœ‰SingleConnectionFactoryå’ŒCachingConnectionFactoryã€‚SingleConnectionFactoryå¯¹äºå»ºç«‹JMSæœåŠ¡å™¨é“¾æ¥çš„è¯·æ±‚ä¼šä¸€ç›´è¿”å›åŒä¸€ä¸ªé“¾æ¥ï¼Œå¹¶ä¸”ä¼šå¿½ç•¥Connectionçš„closeæ–¹æ³•è°ƒç”¨ã€‚CachingConnectionFactoryç»§æ‰¿äº†SingleConnectionFactoryï¼Œæ‰€ä»¥å®ƒæ‹¥æœ‰SingleConnectionFactoryçš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒæ—¶å®ƒè¿˜æ–°å¢äº†ç¼“å­˜åŠŸèƒ½ï¼Œå¯ä»¥ç¼“å­˜Session, MessageProducerå’ŒMessageConsumerã€‚</p><br><p>Springæä¾›çš„ConnectionFactoryåªæ˜¯Springç”¨äºç®¡ç†ConnectionFactoryçš„ï¼ŒçœŸæ­£äº§ç”Ÿåˆ°JMSæœåŠ¡å™¨é“¾æ¥çš„ConnectionFactoryè¿˜å¾—æ˜¯JMSæœåŠ¡å‚å•†æä¾›çš„ï¼Œå¹¶ä¸”éœ€è¦æŠŠå®ƒæ³¨å…¥åˆ°Springæä¾›çš„ConnectionFactoryä¸­ï¼Œè¿™é‡Œä½¿ç”¨ActiveMQæä¾›çš„ConnectionFactoryï¼Œæ‰€ä»¥å®šä¹‰å¦‚ä¸‹ï¼ˆ10.10.195.187æ˜¯åšä¸»çš„æµ‹è¯•ipåœ°å€ï¼‰ï¼š</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;targetConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;<br>        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://10.10.195.187:61616&quot; /&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;<br>        &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;targetConnectionFactory&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>ActiveMQä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªPooledConnectionFactoryï¼Œé€šè¿‡å¾€é‡Œé¢æ³¨å…¥ä¸€ä¸ªActiveMQConnectionFactoryå¯ä»¥ç”¨æ¥å°†Connection, Sessionå’ŒMessageProduceræ± åŒ–ï¼Œè¿™æ ·å¯ä»¥å¤§å¤§çš„å‡å°‘æˆ‘ä»¬çš„èµ„æºæ¶ˆè€—ã€‚å½“ä½¿ç”¨PooledConnectionFactoryæ—¶ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰ä¸€ä¸ªConnectionFactoryæ—¶è¿™æ ·å®šä¹‰ï¼š</p><br><pre class="brush: java; gutter: true"> &lt;bean id=&quot;targetConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;<br>        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://10.10.195.187:61616&quot; /&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;poolConnectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;  &gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;targetConnectionFactory&quot; /&gt;<br>        &lt;property name=&quot;maxConnections&quot; value=&quot;10&quot;/&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.jms.connection.SingleConnectionFactory&quot;&gt;<br>        &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;poolConnectionFactory&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>è¿™é‡Œä¹Ÿå¯ä»¥å»æ‰springæä¾›çš„SingleConnectionFactory,ç±»ä¼¼è¿™æ ·ï¼š</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;targetConnectionFactory&quot; class=&quot;org.apache.activemq.ActiveMQConnectionFactory&quot;&gt;<br>        &lt;property name=&quot;brokerURL&quot; value=&quot;tcp://10.10.195.187:61616&quot; /&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.apache.activemq.pool.PooledConnectionFactory&quot;  &gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;targetConnectionFactory&quot; /&gt;<br>        &lt;property name=&quot;maxConnections&quot; value=&quot;10&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><hr><br><h2 id="é…ç½®æ¶ˆæ¯å‘é€ç”Ÿäº§è€…"><a name="t1"></a>é…ç½®æ¶ˆæ¯å‘é€ï¼ˆç”Ÿäº§ï¼‰è€…</h2><br><p>é…ç½®å¥½ConnectionFactoryä¹‹åæˆ‘ä»¬å°±éœ€è¦é…ç½®ç”Ÿäº§è€…ã€‚ç”Ÿäº§è€…è´Ÿè´£ç”Ÿäº§æ¶ˆæ¯å¹¶å‘é€åˆ°JMSæœåŠ¡å™¨ï¼Œè¿™é€šå¸¸å¯¹åº”çš„æ˜¯æˆ‘ä»¬çš„ä¸€ä¸ªä¸šåŠ¡é€»è¾‘æœåŠ¡å®ç°ç±»ã€‚ä½†æ˜¯æˆ‘ä»¬çš„æœåŠ¡å®ç°ç±»æ˜¯æ€ä¹ˆè¿›è¡Œæ¶ˆæ¯çš„å‘é€çš„å‘¢ï¼Ÿè¿™é€šå¸¸æ˜¯åˆ©ç”¨Springä¸ºæˆ‘ä»¬æä¾›çš„JmsTemplateç±»æ¥å®ç°ï¼Œæ‰€ä»¥é…ç½®ç”Ÿäº§è€…å…¶å®æœ€æ ¸å¿ƒçš„å°±æ˜¯é…ç½®è¿›è¡Œæ¶ˆæ¯å‘é€çš„JmsTemplateã€‚å¯¹äºæ¶ˆæ¯å‘é€è€…è€Œè¨€ï¼Œå®ƒåœ¨å‘é€æ¶ˆæ¯çš„æ—¶å€™è¦çŸ¥é“è‡ªå·±è¯¥å¾€å“ªé‡Œå‘ï¼Œä¸ºæ­¤ï¼Œæˆ‘ä»¬åœ¨å®šä¹‰JmsTemplateçš„æ—¶å€™éœ€è¦å¾€é‡Œé¢æ³¨å…¥ä¸€ä¸ªSpringæä¾›çš„ConnectionFactoryå¯¹è±¡ã€‚</p><br><p>springé…ç½®æ–‡ä»¶ä¸­æ·»åŠ :</p><br><pre class="brush: java; gutter: true"> &lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;poolConnectionFactory&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>åœ¨<a title="Java EEçŸ¥è¯†åº“" href="http://lib.csdn.net/base/17" target="_blank" class="external" rel="nofollow">Java</a>ç›¸å…³å¤„ç†æ–‡ä»¶ä¸­æ·»åŠ (è¿™é‡Œç”¨çš„æ˜¯@Injectæ³¨è§£ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨@Autowired)ï¼š</p><br><pre class="brush: java; gutter: true"> @Inject<br>    @Named(&quot;jmsTemplate&quot;)<br>    private JmsTemplate jmsTemplate;</pre><br><p>è¿™æ ·å°±å¯ä»¥é€šè¿‡jmsTemplateå¯¹è±¡æ¥å¤„ç†ç›¸å…³ä¿¡æ¯ï¼Œè­¬å¦‚ï¼š</p><br><pre class="brush: java; gutter: true">  jmsTemplate.convertAndSend(&quot;sqlQueue&quot;,sql);</pre><br><p>çœŸæ­£åˆ©ç”¨JmsTemplateè¿›è¡Œæ¶ˆæ¯å‘é€çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦çŸ¥é“æ¶ˆæ¯å‘é€çš„ç›®çš„åœ°ï¼Œå³Destinationã€‚åœ¨Jmsä¸­æœ‰ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºç›®çš„åœ°çš„Destinationæ¥å£ï¼Œå®ƒé‡Œé¢æ²¡æœ‰ä»»ä½•æ–¹æ³•å®šä¹‰ï¼Œåªæ˜¯ç”¨æ¥åšä¸€ä¸ªæ ‡å¿—è€Œå·²ã€‚å½“æˆ‘ä»¬åœ¨ä½¿ç”¨JmsTemplateè¿›è¡Œæ¶ˆæ¯å‘é€æ—¶æ²¡æœ‰æŒ‡å®šdestinationçš„æ—¶å€™å°†ä½¿ç”¨é»˜è®¤çš„Destinationã€‚é»˜è®¤Destinationå¯ä»¥é€šè¿‡åœ¨å®šä¹‰jmsTemplate beanå¯¹è±¡æ—¶é€šè¿‡å±æ€§defaultDestinationæˆ–defaultDestinationNameæ¥è¿›è¡Œè¯¸å¦‚ï¼ŒdefaultDestinationNameå¯¹äºçš„å°±æ˜¯ä¸€ä¸ªæ™®é€šå­—ç¬¦ä¸²ã€‚åœ¨ActiveMQä¸­å®ç°äº†ä¸¤ç§ç±»å‹çš„Destinationï¼Œä¸€ä¸ªæ˜¯ç‚¹å¯¹ç‚¹çš„ActiveMQQueue,å¦ä¸€ä¸ªå°±æ˜¯æ”¯æŒè®¢é˜…-å‘å¸ƒæ¨¡å¼çš„ActiveMQTopicã€‚</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;queueDestination&quot; class=&quot;org.apache.activemq.command.ActiveMQQueue&quot;&gt;<br>        &lt;constructor-arg&gt;<br>            &lt;value&gt;sqlQueue&lt;/value&gt;<br>        &lt;/constructor-arg&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;topicDestination&quot; class=&quot;org.apache.activemq.command.ActiveMQTopic&quot;&gt;<br>        &lt;constructor-arg&gt;<br>            &lt;value&gt;topic&lt;/value&gt;<br>        &lt;/constructor-arg&gt;<br>    &lt;/bean&gt;</pre><br><p>å¯¹é¢ä¸Šé¢çš„é‚£ä¸ªä¾‹å­å¯ä»¥åœ¨Javaç¨‹åºä¸­æ·»åŠ ï¼š</p><br><pre class="brush: java; gutter: true"> @Inject<br>    @Named(&quot;queueDestination&quot;)<br>    private Destination queueDestination;</pre><br><p>è¿›è€Œã€jmsTemplate.convertAndSend(â€œsqlQueueâ€,sql);ã€‘å¯ä»¥æ”¹ä¸ºã€jmsTemplate.convertAndSend(queueDestination,sql);ã€‘<br><br>ä¹Ÿå¯ä»¥è¿™æ ·ä¿®æ”¹jmsTemplateï¼š</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;<br>        &lt;property name=&quot;defaultDestination&quot; ref=&quot;queueDestination&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>æˆ–è€…ï¼š</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;jmsTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot;/&gt;<br>        &lt;property name=&quot;defaultDestinationName&quot; value=&quot;sqlQueue&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>è¿›è€Œåœ¨javaç¨‹åºä¸­è¿™æ ·è°ƒç”¨ï¼šjmsTemplate.convertAndSend(sql);</p><br><hr><br><h2 id="é…ç½®æ¶ˆæ¯æ¥æ”¶æ¶ˆè´¹è€…"><a name="t2"></a>é…ç½®æ¶ˆæ¯æ¥æ”¶ï¼ˆæ¶ˆè´¹ï¼‰è€…</h2><br><p>ç”Ÿäº§è€…å¾€æŒ‡å®šç›®çš„åœ°Destinationå‘é€æ¶ˆæ¯åï¼Œæ¥ä¸‹æ¥å°±æ˜¯æ¶ˆè´¹è€…å¯¹æŒ‡å®šç›®çš„åœ°çš„æ¶ˆæ¯è¿›è¡Œæ¶ˆè´¹äº†ã€‚é‚£ä¹ˆæ¶ˆè´¹è€…æ˜¯å¦‚ä½•çŸ¥é“æœ‰ç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šç›®çš„åœ°Destinationäº†å‘¢ï¼Ÿè¿™æ˜¯é€šè¿‡Springä¸ºæˆ‘ä»¬å°è£…çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨MessageListenerContainerå®ç°çš„ï¼Œå®ƒè´Ÿè´£æ¥æ”¶ä¿¡æ¯ï¼Œå¹¶æŠŠæ¥æ”¶åˆ°çš„ä¿¡æ¯åˆ†å‘ç»™çœŸæ­£çš„MessageListenerè¿›è¡Œå¤„ç†ã€‚æ¯ä¸ªæ¶ˆè´¹è€…å¯¹åº”æ¯ä¸ªç›®çš„åœ°éƒ½éœ€è¦æœ‰å¯¹åº”çš„MessageListenerContainerã€‚å¯¹äºæ¶ˆæ¯ç›‘å¬å®¹å™¨è€Œè¨€ï¼Œé™¤äº†è¦çŸ¥é“ç›‘å¬å“ªä¸ªç›®çš„åœ°ä¹‹å¤–ï¼Œè¿˜éœ€è¦çŸ¥é“åˆ°å“ªé‡Œå»ç›‘å¬ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒè¿˜éœ€è¦çŸ¥é“å»ç›‘å¬é‚£ä¸ªJMSæœåŠ¡å™¨ï¼Œè¿™æ˜¯é€šè¿‡åœ¨é…ç½®MessageConnectionFactoryçš„æ—¶å€™å¾€é‡Œé¢æ³¨å…¥ä¸€ä¸ªConnectionFactoryæ¥å®ç°çš„ã€‚æ‰€ä»¥æˆ‘ä»¬åœ¨é…ç½®ä¸€ä¸ªMessageListenerContainerçš„æ—¶å€™æœ‰ä¸‰ä¸ªå±æ€§å¿…é¡»æŒ‡å®šï¼Œä¸€ä¸ªæ˜¯è¡¨ç¤ºä»å“ªé‡Œç›‘å¬çš„ConnectionFactoryï¼Œä¸€ä¸ªæ˜¯è¡¨ç¤ºç›‘å¬ä»€ä¹ˆçš„Destinationï¼Œä¸€ä¸ªæ˜¯æ¥æ”¶åˆ°æ¶ˆæ¯ä»¥åè¿›è¡Œæ¶ˆæ¯å¤„ç†çš„MessageListener.</p><br><p>Springä¸ºæˆ‘ä»¬å¬è¿‡äº†ä¸¤ç§ç±»å‹çš„MessageListenerContainerï¼šSimpleMessageListenerContainerå’ŒDefaultMessageListenerContainerã€‚MessageListenerContainerï¼šSimpleMessageListenerContainerä¼šåœ¨ä¸€å¼€å§‹çš„æ—¶å€™å°±åˆ›å»ºä¸€ä¸ªä¼šè¯Sessionå’Œæ¶ˆè´¹è€…Consumerï¼Œå¹¶ä¸”ä¼šé€‚ç”¨æ ‡å‡†çš„JMSçš„MessageConsumer.setMessageListener()æ–¹æ³•æ³¨å†Œç›‘å¬å™¨è®©JMSæä¾›è°ƒç”¨ç›‘å¬å™¨çš„å›è°ƒå‡½æ•°ã€‚å®ƒä¸ä¼šåŠ¨æ€çš„é€‚åº”è¿è¡Œæ—¶éœ€è¦å’Œå‚ä¸å¤–éƒ¨çš„äº‹åŠ¡ç®¡ç†ã€‚å…¼å®¹æ€§æ–¹é¢ï¼Œå®ƒéå¸¸æ¥è¿‘äºç‹¬ç«‹çš„JMSè§„èŒƒï¼Œä½†ä¸€èˆ¬ä¸å…¼å®¹J2EEçš„JMSé™åˆ¶ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨DefaultMessageListenerContainerï¼Œè·ŸMessageListenerContainerï¼šSimpleMessageListenerContaineræƒ³æ¯”ï¼Œå®ƒä¼šåŠ¨æ€çš„é€‚åº”è¿è¡Œæ—¶çš„éœ€æ±‚ï¼Œå¹¶ä¸”èƒ½å¤Ÿå‚ä¸å¤–éƒ¨çš„äº‹åŠ¡ç®¡ç†ã€‚å®ƒå¾ˆå¥½çš„å¹³è¡¡äº†JMSæä¾›è€…è¦æ±‚ä½ï¼Œå…ˆè¿›åŠŸèƒ½å¦‚äº‹åŠ¡å‚ä¸å’Œå…¼å®¹J2EEç¯å¢ƒã€‚</p><br><p>springé…ç½®æ–‡ä»¶ä¸­æ·»åŠ :</p><br><pre class="brush: java; gutter: true"> &lt;bean id=&quot;queueDestination&quot; class=&quot;org.apache.activemq.command.ActiveMQQueue&quot;&gt;<br>        &lt;constructor-arg&gt;<br>            &lt;value&gt;sqlQueue&lt;/value&gt;<br>        &lt;/constructor-arg&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;listenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;poolConnectionFactory&quot; /&gt;<br>        &lt;property name=&quot;messageListener&quot; ref=&quot;jmsQueueReceiver&quot; /&gt;<br>        &lt;property name=&quot;destination&quot; ref=&quot;queueDestination&quot; /&gt;<br>    &lt;/bean&gt;</pre><br><p>å…¶ä¸­çš„jmsQueueReceiverä»£ç å¦‚ä¸‹ï¼š</p><br><pre class="brush: java; gutter: true">import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.MessageListener;<br>import javax.jms.TextMessage;<br><br>import org.springframework.stereotype.Component;<br><br>@Component(&quot;jmsQueueReceiver&quot;)<br>public class JmsQueueReceiver implements MessageListener<br>{<br>    @Override<br>    public void onMessage(Message messgae)<br>    {<br>        if(messgae instanceof TextMessage)<br>        {<br>            TextMessage textMessage = (TextMessage) messgae;<br>            try<br>            {<br>                String text = textMessage.getText();<br>                System.out.println(&quot;######################[&quot;+text+&quot;]######################&quot;);<br>            }<br>            catch (JMSException e)<br>            {<br>                e.printStackTrace();<br>            }<br>        }<br>    }<br>}</pre><br><hr><br><h2 id="äº‹åŠ¡ç®¡ç†"><a name="t3"></a>äº‹åŠ¡ç®¡ç†</h2><br><p>Springæä¾›äº†ä¸€ä¸ªJmsTransactionManagerç”¨äºå¯¹JMS ConnectionFactoryåšäº‹åŠ¡ç®¡ç†ã€‚è¿™å°†å…è®¸JMSåº”ç”¨åˆ©ç”¨Springçš„äº‹åŠ¡ç®¡ç†ç‰¹æ€§ã€‚JmsTransactionManageråœ¨æ‰§è¡Œæœ¬åœ°èµ„æºäº‹åŠ¡ç®¡ç†æ—¶å°†ä»æŒ‡å®šçš„ConnectionFactoryç»‘å®šä¸€ä¸ªConnectionFactory/Sessionè¿™æ ·çš„é…å¯¹åˆ°çº¿ç¨‹ä¸­ã€‚JmsTemplateä¼šè‡ªåŠ¨æ£€æµ‹è¿™æ ·çš„äº‹åŠ¡èµ„æºï¼Œå¹¶å¯¹ä»–ä»¬è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚</p><br><p>åœ¨J2EEç¯å¢ƒä¸­ï¼ŒConnectionFactoryä¼šæ± åŒ–Connectionå’ŒSessionï¼Œè¿™æ ·è¿™äº›èµ„æºå°†ä¼šåœ¨æ•´ä¸ªäº‹åŠ¡ä¸­è¢«æœ‰æ•ˆåœ°é‡å¤åˆ©ç”¨ã€‚åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒä¸­ï¼Œä½¿ç”¨Springçš„SingleConnectionFactoryæ—¶æ‰€æœ‰çš„äº‹åŠ¡å°†å…¬ç”¨ä¸€ä¸ªConnectionï¼Œä½†æ˜¯æ¯ä¸ªäº‹åŠ¡å°†ä¿ç•™è‡ªå·±ç‹¬ç«‹çš„Session.</p><br><p>JmsTemplateå¯ä»¥åˆ©ç”¨JtaTransactionManagerå’Œèƒ½å¤Ÿè¿›è¡Œåˆ†å¸ƒå¼çš„JMS ConnectionFactoryå¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</p><br><p>åœ¨Springæ•´åˆJMSçš„åº”ç”¨ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è¦è¿›è¡Œæœ¬åœ°çš„äº‹åŠ¡ç®¡ç†çš„è¯éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å®šä¹‰å¯¹äºçš„æ¶ˆæ¯ç›‘å¬å®¹å™¨æ—¶æŒ‡å®šå…¶sessionTransactedå±æ€§ä¸ºtrue(é»˜è®¤ä¸ºfalse)ï¼š</p><br><pre class="brush: java; gutter: true">&lt;bean id=&quot;listenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;<br>        &lt;property name=&quot;messageListener&quot; ref=&quot;jmsQueueReceiver&quot; /&gt;<br>        &lt;property name=&quot;destination&quot; ref=&quot;queueDestination&quot; /&gt;<br>        &lt;property name=&quot;sessionTransacted&quot; value=&quot;true&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><p>è¿™æ ·JMSåœ¨è¿›è¡Œæ¶ˆæ¯ç›‘å¬çš„æ—¶å€™å°±ä¼šè¿›è¡Œäº‹åŠ¡æ§åˆ¶ï¼Œå½“åœ¨æ¥æ”¶æ¶ˆæ¯æ—¶ç›‘å¬å™¨æ‰§è¡Œå¤±è´¥æ—¶JMSå°±ä¼šå¯¹æ¥æ”¶åˆ°çš„æ¶ˆæ¯è¿›è¡Œå›æ»šã€‚è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯å¯¹äºå…¶ä»–æ“ä½œå¦‚<a title="MySQLçŸ¥è¯†åº“" href="http://lib.csdn.net/base/14" target="_blank" class="external" rel="nofollow">æ•°æ®åº“</a>ç­‰è®¿é—®ä¸å±äºè¯¥äº‹åŠ¡æ§åˆ¶ã€‚</p><br><p>å¯ä»¥åœ¨JmsQueueReceiverä¸­ä¿®æ”¹ä¸€ä¸‹ä»£ç ä»è€Œæ£€æµ‹åˆ°å‘é€å¼‚å¸¸æ—¶æ˜¯å¦ä¼šè¿›è¡Œäº‹åŠ¡å›æ»šï¼š</p><br><pre class="brush: java; gutter: true">@Component(&quot;jmsQueueReceiver&quot;)<br>public class JmsQueueReceiver implements MessageListener<br>{<br>    @Override<br>    public void onMessage(Message messgae)<br>    {<br>        if(messgae instanceof TextMessage)<br>        {<br>            TextMessage textMessage = (TextMessage) messgae;<br>            try<br>            {<br>                String text = textMessage.getText();<br>                System.out.println(&quot;######################[&quot;+text+&quot;]######################&quot;);<br>                if(true)<br>                {<br>                    throw new RuntimeException(&quot;Error&quot;);<br>                }<br>            }<br>            catch (JMSException e)<br>            {<br>                e.printStackTrace();<br>            }<br>        }<br>    }<br>}</pre><br><p>ä½ å¯ä»¥é€šè¿‡å‘Destinationå‘é€ä¸€æ¡ä¿¡æ¯ï¼Œé€šè¿‡JmsQueueReceiverå¤„ç†åï¼Œå‘é€å¼‚å¸¸è¿›è€Œäº‹åŠ¡æ··æ»šã€‚å¯ä»¥é€šè¿‡<a href="http://10.10.195.187:8161/admin/queues.jsp" class="external" rel="nofollow" target="_blank">http://10.10.195.187:8161/admin/queues.jsp</a>æŸ¥çœ‹ç›¸å…³ä¿¡æ¯ï¼ˆipåœ°å€æ˜¯åšä¸»çš„ActiveMQæœåŠ¡å™¨æ‰€åœ¨idï¼Œæ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ï¼‰ã€‚</p><br><p>å¦‚æœæƒ³è¦æ¥æ”¶æ¶ˆæ¯å’Œæ•°æ®åº“è®¿é—®å¤„äºåŒä¸€äº‹åŠ¡ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é…ç½®ä¸€ä¸ªå¤–éƒ¨çš„äº‹åŠ¡ç®¡ç†åŒæ—¶é…ç½®ä¸€ä¸ªæ”¯æŒå¤–éƒ¨äº‹åŠ¡ç®¡ç†çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨ï¼ˆå¦‚DefaultMessageListenerContainer)ã€‚è¦é…ç½®è¿™æ ·ä¸€ä¸ªå‚ä¸åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ªJtaTransactionManagerï¼Œå½“ç„¶åº•å±‚çš„JMS ConnectionFactoryéœ€è¦èƒ½å¤Ÿæ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†ï¼Œå¹¶æ­£ç¡®åœ°æ³¨å†Œæˆ‘ä»¬çš„JtaTransactionManagerã€‚è¿™æ ·æ¶ˆæ¯ç›‘å¬å™¨è¿›è¡Œæ¶ˆæ¯æ¥æ”¶å’Œå¯¹åº”çš„æ•°æ®åº“è®¿é—®å°±ä¼šå¤„äºåŒä¸€æ•°æ®åº“æ§åˆ¶ä¸‹ï¼Œå½“æ¶ˆæ¯æ¥æ”¶å¤±è´¥æˆ–æ•°æ®åº“è®¿é—®å¤±è´¥éƒ½ä¼šè¿›è¡Œäº‹åŠ¡å›æ»šæ“ä½œã€‚</p><br><pre class="brush: java; gutter: true"> &lt;bean id=&quot;listenerContainer&quot; class=&quot;org.springframework.jms.listener.DefaultMessageListenerContainer&quot;&gt;<br>        &lt;property name=&quot;connectionFactory&quot; ref=&quot;connectionFactory&quot; /&gt;<br>        &lt;property name=&quot;messageListener&quot; ref=&quot;jmsQueueReceiver&quot; /&gt;<br>        &lt;property name=&quot;destination&quot; ref=&quot;queueDestination&quot; /&gt;<br>        &lt;property name=&quot;sessionTransacted&quot; value=&quot;true&quot;/&gt;<br>        &lt;property name=&quot;transactionManager&quot; ref=&quot;jtaTransactionManager&quot;/&gt;<br>    &lt;/bean&gt;<br>    &lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;/&gt;</pre><br><p>å½“ç»™å°æ—¶ç›‘å¬å®¹å™¨æŒ‡å®šäº†transactionManageræ—¶ï¼Œæ¶ˆæ¯ç›‘å¬å®¹å™¨å°†å¿½ç•¥sessionTransactedçš„å€¼ã€‚</p><br><p>åˆ°è¿™é‡Œå¤§æ¦‚çš„Spring+ActiveMQæ•´åˆå‘Šä¸€æ®µè½ï¼Œæ‰€æœ‰ä»£ç ç»åšä¸»äº²æµ‹ï¼Œç¡®ä¿æœ‰æ•ˆæ€§åŠæ­£ç¡®æ€§ã€‚å¦‚æœ‰ç–‘é—®ï¼Œå¯åœ¨ä¸‹æ–¹ç•™è¨€ã€‚</p><br><hr><br><p>å‚è€ƒèµ„æ–™ï¼š<br><br>1. <a href="http://haohaoxuexi.iteye.com/blog/1893038" class="external" rel="nofollow" target="_blank">Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°</a><br><br>2. <a href="http://blog.csdn.net/wilsonke/article/details/42191015" class="external" rel="nofollow" target="_blank">Spring+ActiveMQ+Mysql é…ç½®JMS</a><br><br>3. <a href="http://blog.csdn.net/u013256816/article/details/51161548" class="external" rel="nofollow" target="_blank">ActiveMQç®€è¿°</a></p>



<pre><code>&lt;!-- BEGIN #author-bio --&gt;
</code></pre><!-- END #author-bio -->
<pre><code>&lt;/div&gt;
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2017/06/15/thread-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/15/thread-01/" itemprop="url">JAVAå¤šçº¿ç¨‹å®ç°çš„ä¸‰ç§æ–¹å¼</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-15T14:08:06+08:00">
                2017-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å¤šçº¿ç¨‹çš„åŸºç¡€çŸ¥è¯†è¿›è¡Œä¸€ä¸‹æ€»ç»“ï¼š</p>

<p><img alt="Javaä¸­å¤šçº¿ç¨‹å®ç°æ–¹å¼æœ‰å“ªäº›ï¼Œå¬å¬å¤§ç¥çš„åˆ†æ" src="https://static.oschina.net/uploads/img/201706/13190436_vVnS.jpg"></p>

<p>çº¿ç¨‹ç”Ÿå‘½å‘¨æœŸ</p>

<p><strong>Javaä¸­çš„å¤šçº¿ç¨‹æœ‰ä¸‰ç§å®Œç»“åŠæ³•ï¼š</strong></p>

<p>1.å®Œç»“Runnableæ¥å£ï¼Œå¹¶å®Œç»“è¯¥æ¥å£çš„run()åŠæ³•.åˆ›ç«‹ä¸€ä¸ªThreadç›®æ ‡ï¼Œç”¨å®Œç»“çš„Runnableæ¥å£çš„ç›®æ ‡ä½œä¸ºå‚æ•°å®ä¾‹åŒ–Threadç›®æ ‡ï¼Œè°ƒç”¨æ­¤ç›®æ ‡çš„startåŠæ³•ã€‚</p>

<p>2.æ‰¿ç»§Threadç±»ï¼Œé‡å†™runåŠæ³•ã€‚Threadæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªå®Œç»“äº†Runnableçš„å®ä¾‹ï¼Œä»–ä»£è¡¨ä¸€ä¸ªçº¿ç¨‹çš„å®ä¾‹ï¼Œè€Œä¸”å‘åŠ¨çº¿ç¨‹çš„ä»…æœ‰åŠæ³•å³æ˜¯ç»è¿‡Threadç±»çš„startåŠæ³•ã€‚</p>

<p>3.å®Œç»“Callableæ¥å£ï¼Œé‡å†™callåŠæ³•ã€‚Callableæ¥å£ä¸Runnableæ¥å£çš„åŠŸç”¨ç›¸ä¼¼ï¼Œä½†ä¾›ç»™äº†æ¯”Runnableæ›´å¼ºå£®çš„åŠŸç”¨ã€‚æœ‰ä»¥ä¸‹ä¸‰ç‚¹</p>

<p>1ï¼‰.Callableèƒ½å¤Ÿåœ¨äººç‰©å®Œæ¯•åä¾›ç»™ä¸€ä¸ªè¿”å›å€¼ï¼ŒRunnableæ²¡æœ‰ä¾›ç»™è¿™ä¸ªåŠŸç”¨ã€‚</p>

<p>2ï¼‰.Callableä¸­çš„callåŠæ³•èƒ½å¤ŸæŠ›å‡ºåå¸¸ï¼Œè€ŒRunnableçš„runåŠæ³•ä¸èƒ½æŠ›å‡ºåå¸¸ã€‚</p>

<p>3ï¼‰.è¿è½¬Callableèƒ½å¤Ÿæ‹¿åˆ°ä¸€ä¸ªFutureç›®æ ‡ï¼Œè¡¨æ˜å¼‚æ­¥æ ¸ç®—çš„æˆæœï¼Œä¾›ç»™äº†æŸ¥çœ‹æ ¸ç®—æ˜¯ä¸æ˜¯å®Œç»“çš„åŠæ³•ã€‚</p>

<p>éœ€æ±‚ç•™æ„çš„æ˜¯ï¼Œä¸ç®¡ç”¨é‚£ç§åŠæ³•å®Œç»“äº†å¤šçº¿ç¨‹ï¼Œè°ƒç”¨startåŠæ³•å¹¶ä¸æ„å‘³ç€å½“å³å±¥è¡Œå¤šçº¿ç¨‹ä»£ç ï¼Œè€Œæ˜¯ä½¿å¾—çº¿ç¨‹å˜ä¸ºå¯è¿è½¬çŠ¶å†µã€‚</p>

<p><strong>runã€ startçš„å·®å¼‚</strong></p>

<p>startåŠæ³•æ˜¯å‘åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œè€Œçº¿ç¨‹ä¸­çš„runåŠæ³•æ¥å®Œç»“å®è·µçš„æ“ä½œã€‚</p>

<p>å‡å¦‚å’±ä»¬ç›´æ¥è°ƒç”¨runåŠæ³•ï¼Œé‚£ä¹ˆå°±ä¼šå°†è¿™ä¸ªåŠæ³•å½“ä½œä¸€ä¸ªä¸€èˆ¬å‡½æ•°æ¥è°ƒç”¨ï¼Œå¹¶æ²¡æœ‰å¤šæ‹“è’çº¿ç¨‹ï¼Œå‡å¦‚æœŸæœ›å¤šçº¿ç¨‹å¼‚æ­¥å±¥è¡Œï¼Œåˆ™éœ€æ±‚è°ƒç”¨startåŠæ³•ã€‚</p>

<p><strong>sleep waitçš„å·®å¼‚</strong></p>

<p>1.sleepæ˜¯Threaçš„é™æ€åŠæ³•ï¼Œæ˜¯ç”¨æ¥æ“æ§çº¿ç¨‹è‡ªèº«æµç¨‹çš„ï¼Œè€Œwaitæ˜¯objectçš„åŠæ³•ï¼Œç”¨äºè¿›è¡Œçº¿ç¨‹é€šè®¯ã€‚</p>

<p>2.ä¸¤è€…å¤„ç†çš„æœºåˆ¶ä¸ä¸€æ ·ï¼ŒsleepåŠæ³•ä¸»è¦æ˜¯ï¼Œè®©çº¿ç¨‹æš‚åœå±¥è¡Œä¸€æ®µæ—¶åˆ»ï¼Œæ—¶åˆ»ä¸€åˆ°ä¸»åŠ¨åº·å¤ï¼Œå¹¶ä¸ä¼šå¼€é‡Šæ‰€å ç”¨çš„é”ï¼Œå½“è°ƒç”¨waitåŠæ³•ä»Šåï¼Œä»–ä¼šå¼€é‡Šæ‰€å ç”¨çš„ç›®æ ‡é”ï¼Œç­‰å€™åˆ«çš„çº¿ç¨‹è°ƒç”¨notifyåŠæ³•æ‰ä¼šå†æ¬¡é†’æ¥ã€‚</p>

<p>3.ä¸¤è€…è¿ç”¨çš„åŒºåŸŸä¸ä¸€æ ·ã€‚sleepèƒ½å¤Ÿåœ¨ä»»ä½•åœ°æ–¹è¿ç”¨ï¼Œwaitæœ‰å¿…è¦æ”¾åœ¨åŒæ­¥æ“æ§åŠæ³•ï¼Œæˆ–è€…è¯­å¥å—ä¸­å±¥è¡Œã€‚</p>

<p><img alt="Javaä¸­å¤šçº¿ç¨‹å®ç°æ–¹å¼æœ‰å“ªäº›ï¼Œå¬å¬å¤§ç¥çš„åˆ†æ" src="https://static.oschina.net/uploads/img/201706/13190436_AeYw.jpg"></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2017/06/14/activemq-02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/14/activemq-02/" itemprop="url">Springæ•´åˆActiveMQ äº‹åŠ¡ç®¡ç†</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-14T15:58:38+08:00">
                2017-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p> <div id="blog_content" class="blog_content"><br>    <div class="iteye-blog-content-contain" style="font-size: 14px;"></div></div></p>
<p></p><h2 class="iteye-blog-content-contain" style="margin: 13pt 0cm 13pt 28.8pt;"> </h2><p></p>
<p></p><p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">æä¾›äº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">JmsTransactionManager</span></span><span style="font-family: å®‹ä½“;">ç”¨äºå¯¹</span><span><span style="font-family: Calibri;">JMS ConnectionFactory</span></span><span style="font-family: å®‹ä½“;">åšäº‹åŠ¡ç®¡ç†ã€‚è¿™å°†å…è®¸</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">åº”ç”¨åˆ©ç”¨</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">çš„äº‹åŠ¡ç®¡ç†ç‰¹æ€§ã€‚</span><span><span style="font-family: Calibri;">JmsTransactionManager</span></span><span style="font-family: å®‹ä½“;">åœ¨æ‰§è¡Œæœ¬åœ°èµ„æºäº‹åŠ¡ç®¡ç†æ—¶å°†ä»æŒ‡å®šçš„</span><span><span style="font-family: Calibri;">ConnectionFactory</span></span><span style="font-family: å®‹ä½“;">ç»‘å®šä¸€ä¸ª</span><span><span style="font-family: Calibri;">ConnectionFactory/Session</span></span><span style="font-family: å®‹ä½“;">è¿™æ ·çš„é…å¯¹åˆ°çº¿ç¨‹ä¸­ã€‚</span><span><span style="font-family: Calibri;">JmsTemplate</span></span><span style="font-family: å®‹ä½“;">ä¼šè‡ªåŠ¨æ£€æµ‹è¿™æ ·çš„äº‹åŠ¡èµ„æºï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œç›¸åº”æ“ä½œã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">åœ¨</span><span><span style="font-family: Calibri;">Java EE</span></span><span style="font-family: å®‹ä½“;">ç¯å¢ƒä¸­ï¼Œ</span><span><span style="font-family: Calibri;">ConnectionFactory</span></span><span style="font-family: å®‹ä½“;">ä¼šæ± åŒ–</span><span><span style="font-family: Calibri;">Connection</span></span><span style="font-family: å®‹ä½“;">å’Œ</span><span><span style="font-family: Calibri;">Session</span></span><span style="font-family: å®‹ä½“;">ï¼Œè¿™æ ·è¿™äº›èµ„æºå°†ä¼šåœ¨æ•´ä¸ªäº‹åŠ¡ä¸­è¢«æœ‰æ•ˆåœ°é‡å¤åˆ©ç”¨ã€‚åœ¨ä¸€ä¸ªç‹¬ç«‹çš„ç¯å¢ƒä¸­ï¼Œä½¿ç”¨</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">çš„</span><span><span style="font-family: Calibri;">SingleConnectionFactory</span></span><span style="font-family: å®‹ä½“;">æ—¶æ‰€æœ‰çš„äº‹åŠ¡å°†å…¬ç”¨ä¸€ä¸ª</span><span><span style="font-family: Calibri;">Connection</span></span><span style="font-family: å®‹ä½“;">ï¼Œä½†æ˜¯æ¯ä¸ªäº‹åŠ¡å°†ä¿ç•™è‡ªå·±ç‹¬ç«‹çš„</span><span><span style="font-family: Calibri;">Session</span></span><span style="font-family: å®‹ä½“;">ã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-indent: 21pt; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span style="font-family: Calibri;">JmsTemplate</span></span><span style="font-family: å®‹ä½“;">å¯ä»¥åˆ©ç”¨</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">å’Œèƒ½å¤Ÿè¿›è¡Œåˆ†å¸ƒå¼çš„</span><span><span style="font-family: Calibri;"> JMS ConnectionFactory</span></span><span style="font-family: å®‹ä½“;">å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡ã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">åœ¨</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">æ•´åˆ</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">çš„åº”ç”¨ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è¦è¿›è¡Œæœ¬åœ°çš„äº‹åŠ¡ç®¡ç†çš„è¯éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨å®šä¹‰å¯¹åº”çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨æ—¶æŒ‡å®šå…¶</span><span><span style="font-family: Calibri;">sessionTransacted</span></span><span style="font-family: å®‹ä½“;">å±æ€§ä¸º</span><span><span style="font-family: Calibri;">true</span></span><span style="font-family: å®‹ä½“;">ï¼Œå¦‚ï¼š</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="xml" name="code">    &lt;bean id=â€jmsContainerâ€<br>        class=â€org.springframework.jms.listener.DefaultMessageListenerContainerâ€&gt;<br>        &lt;property name=â€connectionFactoryâ€ ref=â€connectionFactoryâ€ /&gt;<br>        &lt;property name=â€destinationâ€ ref=â€queueDestinationâ€ /&gt;<br>        &lt;property name=â€messageListenerâ€ ref=â€consumerMessageListenerâ€ /&gt;<br>        &lt;property name=â€sessionTransactedâ€ value=â€trueâ€/&gt;<br>    &lt;/bean&gt;<br></pre><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">è¯¥å±æ€§å€¼é»˜è®¤ä¸º</span><span><span style="font-family: Calibri;">false</span></span><span style="font-family: å®‹ä½“;">ï¼Œè¿™æ ·</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">åœ¨è¿›è¡Œæ¶ˆæ¯ç›‘å¬çš„æ—¶å€™å°±ä¼šè¿›è¡Œäº‹åŠ¡æ§åˆ¶ï¼Œå½“åœ¨æ¥æ”¶æ¶ˆæ¯æ—¶ç›‘å¬å™¨æ‰§è¡Œå¤±è´¥æ—¶</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">å°±ä¼šå¯¹æ¥æ”¶åˆ°çš„æ¶ˆæ¯è¿›è¡Œå›æ»šï¼Œå¯¹äº</span><span><span style="font-family: Calibri;">SessionAwareMessageListener</span></span><span style="font-family: å®‹ä½“;">åœ¨æ¥æ”¶åˆ°æ¶ˆæ¯åå‘é€ä¸€ä¸ªè¿”å›æ¶ˆæ¯æ—¶ä¹Ÿå¤„äºåŒä¸€äº‹åŠ¡ä¸‹ï¼Œä½†æ˜¯å¯¹äºå…¶ä»–æ“ä½œå¦‚æ•°æ®åº“è®¿é—®ç­‰å°†ä¸å±äºè¯¥äº‹åŠ¡æ§åˆ¶ã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">è¿™é‡Œæˆ‘ä»¬å¯ä»¥æ¥åšä¸€ä¸ªè¿™æ ·çš„æµ‹è¯•ï¼šæˆ‘ä»¬å¦‚ä¸Šé…ç½®ç›‘å¬åœ¨</span><span><span style="font-family: Calibri;">queueDestination</span></span><span style="font-family: å®‹ä½“;">çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨çš„</span><span><span style="font-family: Calibri;">sessionTransacted</span></span><span style="font-family: å®‹ä½“;">å±æ€§ä¸º</span><span><span style="font-family: Calibri;">true</span></span><span style="font-family: å®‹ä½“;">ï¼Œç„¶åæŠŠæˆ‘ä»¬å‰é¢æåˆ°çš„æ¶ˆæ¯ç›‘å¬å™¨</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">æ”¹æˆè¿™æ ·ï¼š</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="java" name="code">public class ConsumerMessageListener implements MessageListener {</pre></p>
<pre><code>public void onMessage(Message message) {
        //è¿™é‡Œæˆ‘ä»¬çŸ¥é“ç”Ÿäº§è€…å‘é€çš„å°±æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ¶ˆæ¯ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œæˆ–è€…ç›´æ¥æŠŠonMessageæ–¹æ³•çš„å‚æ•°æ”¹æˆMessageçš„å­ç±»TextMessage
        TextMessage textMsg = (TextMessage) message;
        System.out.println(&quot;æ¥æ”¶åˆ°ä¸€ä¸ªçº¯æ–‡æœ¬æ¶ˆæ¯ã€‚&quot;);
        try {
            System.out.println(&quot;æ¶ˆæ¯å†…å®¹æ˜¯ï¼š&quot; + textMsg.getText());
            if (1 == 1) {
                throw new RuntimeException(&quot;Error&quot;);
            }
        } catch (JMSException e) {
            e.printStackTrace();
        }
}
</code></pre><p>}<br><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;">        </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬çš„</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">åœ¨è¿›è¡Œæ¶ˆæ¯æ¥æ”¶çš„æ—¶å€™æŠ›å‡ºäº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">RuntimeException</span></span><span style="font-family: å®‹ä½“;">ï¼Œæ ¹æ®æˆ‘ä»¬ä¸Šé¢è¯´çš„ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»åœ¨å¯¹åº”çš„ç›‘å¬å®¹å™¨ä¸Šå®šä¹‰äº†å…¶</span><span><span style="font-family: Calibri;">sessionTransacted</span></span><span style="font-family: å®‹ä½“;">å±æ€§ä¸º</span><span><span style="font-family: Calibri;">true</span></span><span style="font-family: å®‹ä½“;">ï¼Œæ‰€ä»¥å½“è¿™é‡ŒæŠ›å‡ºå¼‚å¸¸çš„æ—¶å€™</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">å°†å¯¹æ¥æ”¶åˆ°çš„æ¶ˆæ¯è¿›è¡Œå›æ»šï¼Œå³ä¸‹æ¬¡è¿›è¡Œæ¶ˆæ¯æ¥æ”¶çš„æ—¶å€™è¯¥æ¶ˆæ¯ä»ç„¶èƒ½å¤Ÿè¢«æ¥æ”¶åˆ°ã€‚ä¸ºäº†éªŒè¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å…ˆæ‰§è¡Œä¸€éæµ‹è¯•ä»£ç ï¼Œå¾€</span><span><span style="font-family: Calibri;">queueDestination</span></span><span style="font-family: å®‹ä½“;">å‘é€ä¸€ä¸ªæ–‡æœ¬æ¶ˆæ¯ï¼Œè¿™ä¸ªæ—¶å€™</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">åœ¨è¿›è¡Œæ¥æ”¶çš„æ—¶å€™å°†ä¼šæŠ›å‡ºä¸€ä¸ª</span><span><span style="font-family: Calibri;">RuntimeException</span></span><span style="font-family: å®‹ä½“;">ï¼Œå·²ç»æ¥æ”¶åˆ°çš„çº¯æ–‡æœ¬æ¶ˆæ¯å°†è¿›è¡Œå›æ»šï¼›æ¥ç€æˆ‘ä»¬å»æ‰ä¸Šé¢ä»£ç ä¸­æŠ›å‡ºå¼‚å¸¸çš„è¯­å¥ï¼Œå³</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">èƒ½å¤Ÿæ­£å¸¸çš„è¿›è¡Œæ¶ˆæ¯æ¥æ”¶ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å†è¿è¡Œä¸€æ¬¡æµ‹è¯•ä»£ç ï¼Œå¾€</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">ç›‘å¬çš„</span><span><span style="font-family: Calibri;">queueDestination</span></span><span style="font-family: å®‹ä½“;">å‘é€ä¸€æ¡æ¶ˆæ¯ã€‚å¦‚æœä¹‹å‰åœ¨æ¥æ‰‹æ—¶æŠ›å‡ºäº†å¼‚å¸¸çš„é‚£æ¡æ¶ˆæ¯å·²ç»å›æ»šäº†çš„è¯ï¼Œé‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°†èƒ½å¤Ÿæ¥æ”¶åˆ°ä¸¤æ¡æ¶ˆæ¯ï¼Œæ§åˆ¶å°å°†è¾“å‡ºæ¥æ”¶åˆ°çš„ä¸¤æ¡æ¶ˆæ¯çš„å†…å®¹ã€‚å…·ä½“ç»“æœæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªå·±éªŒè¯ä¸€ä¸‹ã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">å¦‚æœæƒ³æ¥æ”¶æ¶ˆæ¯å’Œæ•°æ®åº“è®¿é—®å¤„äºåŒä¸€äº‹åŠ¡ä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥é…ç½®ä¸€ä¸ªå¤–éƒ¨çš„äº‹åŠ¡ç®¡ç†åŒæ—¶é…ç½®ä¸€ä¸ªæ”¯æŒå¤–éƒ¨äº‹åŠ¡ç®¡ç†çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨ï¼ˆå¦‚</span><span><span style="font-family: Calibri;">DefaultMessageListenerContainer</span></span><span style="font-family: å®‹ä½“;">ï¼‰ã€‚è¦é…ç½®è¿™æ ·ä¸€ä¸ªå‚ä¸åˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†çš„æ¶ˆæ¯ç›‘å¬å®¹å™¨ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½®ä¸€ä¸ª</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">ï¼Œå½“ç„¶åº•å±‚çš„</span><span><span style="font-family: Calibri;">JMS ConnectionFactory</span></span><span style="font-family: å®‹ä½“;">éœ€è¦èƒ½å¤Ÿæ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†ï¼Œå¹¶æ­£ç¡®åœ°æ³¨å†Œæˆ‘ä»¬çš„</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">ã€‚è¿™æ ·æ¶ˆæ¯ç›‘å¬å™¨è¿›è¡Œæ¶ˆæ¯æ¥æ”¶å’Œå¯¹åº”çš„æ•°æ®åº“è®¿é—®å°±ä¼šå¤„äºåŒä¸€æ•°æ®åº“æ§åˆ¶ä¸‹ï¼Œå½“æ¶ˆæ¯æ¥æ”¶å¤±è´¥æˆ–æ•°æ®åº“è®¿é—®å¤±è´¥éƒ½ä¼šè¿›è¡Œäº‹åŠ¡å›æ»šæ“ä½œã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="xml" name="code">    &lt;bean id=â€jmsContainerâ€<br>        class=â€org.springframework.jms.listener.DefaultMessageListenerContainerâ€&gt;<br>        &lt;property name=â€connectionFactoryâ€ ref=â€connectionFactoryâ€ /&gt;<br>        &lt;property name=â€destinationâ€ ref=â€queueDestinationâ€ /&gt;<br>        &lt;property name=â€messageListenerâ€ ref=â€consumerMessageListenerâ€ /&gt;<br>        &lt;property name=â€transactionManagerâ€ ref=â€jtaTransactionManagerâ€/&gt;<br>    &lt;/bean&gt;</pre></p>
<pre><code>&amp;lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;/&amp;gt;
</code></pre><p><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;">        </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">å½“ç»™æ¶ˆæ¯ç›‘å¬å®¹å™¨æŒ‡å®šäº†</span><span><span style="font-family: Calibri;">transactionManager</span></span><span style="font-family: å®‹ä½“;">æ—¶ï¼Œæ¶ˆæ¯ç›‘å¬å®¹å™¨å°†å¿½ç•¥</span><span><span style="font-family: Calibri;">sessionTransacted</span></span><span style="font-family: å®‹ä½“;">çš„å€¼ã€‚</span></span><span><span style="font-family: Calibri; font-size: medium;"> </span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">å…³äºä½¿ç”¨</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">æ¥ç®¡ç†ä¸Šè¿°åˆ†å¸ƒå¼äº‹åŠ¡ï¼Œæˆ‘ä»¬è¿™é‡Œä¹Ÿå¯ä»¥æ¥åšä¸€ä¸ªè¯•éªŒã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">é¦–å…ˆï¼šå¾€</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">é…ç½®æ–‡ä»¶</span><span><span style="font-family: Calibri;">applicationContext.xml</span></span><span style="font-family: å®‹ä½“;">ä¸­æ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-family: Consolas; color: black; font-size: 10pt;"><span>    </span></span></p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="xml" name="code">    &lt;bean id=â€jdbcTemplateâ€ class=â€org.springframework.jdbc.core.JdbcTemplateâ€&gt;<br>        &lt;property name=â€dataSourceâ€ ref=â€dataSourceâ€/&gt;<br>    &lt;/bean&gt;</pre></p>
<pre><code>&amp;lt;jee:jndi-lookup jndi-name=&quot;jdbc/mysql&quot; id=&quot;dataSource&quot;/&amp;gt;
&amp;lt;bean id=&quot;jtaTransactionManager&quot; class=&quot;org.springframework.transaction.jta.JtaTransactionManager&quot;/&amp;gt;

&amp;lt;tx:annotation-driven transaction-manager=&quot;jtaTransactionManager&quot;/&amp;gt;
</code></pre><p><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;">  </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">jndi</span></span><span style="font-family: å®‹ä½“;">æ•°æ®æºï¼Œå®šä¹‰äº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">ï¼Œå®šä¹‰äº†</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">åŸºäºæ³¨è§£çš„å£°æ˜å¼äº‹åŠ¡ç®¡ç†ï¼Œå®šä¹‰äº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">Spring</span></span><span style="font-family: å®‹ä½“;">æä¾›çš„è¿›è¡Œ</span><span><span style="font-family: Calibri;">Jdbc</span></span><span style="font-family: å®‹ä½“;">æ“ä½œçš„å·¥å…·ç±»</span><span><span style="font-family: Calibri;">jdbcTemplate</span></span><span style="font-family: å®‹ä½“;">ã€‚</span></span></p><p></p>
<p></p><p class="iteye-blog-content-contain" style="font-size: 14px;"> </p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">æ¥ä¸‹æ¥æŠŠæˆ‘ä»¬çš„</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">æ”¹ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</span></span></p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="java" name="code">public class ConsumerMessageListener implements MessageListener {</pre></p>
<pre><code>@Autowired
private TestDao testDao;

private int count = 0;

public void onMessage(Message message) {
        //è¿™é‡Œæˆ‘ä»¬çŸ¥é“ç”Ÿäº§è€…å‘é€çš„å°±æ˜¯ä¸€ä¸ªçº¯æ–‡æœ¬æ¶ˆæ¯ï¼Œæ‰€ä»¥è¿™é‡Œå¯ä»¥ç›´æ¥è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼Œæˆ–è€…ç›´æ¥æŠŠonMessageæ–¹æ³•çš„å‚æ•°æ”¹æˆMessageçš„å­ç±»TextMessage
        TextMessage textMsg = (TextMessage) message;
        System.out.println(new Date().toLocaleString() + &quot;æ¥æ”¶åˆ°ä¸€ä¸ªçº¯æ–‡æœ¬æ¶ˆæ¯ã€‚&quot;);
        try {
            String text = textMsg.getText();
            System.out.println(&quot;æ¶ˆæ¯å†…å®¹æ˜¯ï¼š&quot; + text);
            System.out.println(&quot;å½“å‰countçš„å€¼æ˜¯ï¼š&quot; + count);
            testDao.insert(text + count);
            if (count == 0) {
                count ++;
                throw new RuntimeException(&quot;Error! å‡ºé”™å•¦ï¼&quot;);
            }
        } catch (JMSException e) {
            e.printStackTrace();
        }
}
</code></pre><p>}<br><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;">       </span></span></span><span style="font-family: å®‹ä½“;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåœ¨</span><span><span style="font-family: Calibri;">ConsumerMessageListener</span></span><span style="font-family: å®‹ä½“;">ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªå®ä¾‹å˜é‡</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ï¼Œå…¶åˆå§‹å€¼ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">ï¼›åœ¨</span><span><span style="font-family: Calibri;">onMessage</span></span><span style="font-family: å®‹ä½“;">é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æŠŠæ¥æ”¶åˆ°çš„æ¶ˆæ¯å†…å®¹ä½œä¸ºå‚æ•°è°ƒç”¨äº†</span><span><span style="font-family: Calibri;">testDao</span></span><span style="font-family: å®‹ä½“;">çš„</span><span><span style="font-family: Calibri;">insert</span></span><span style="font-family: å®‹ä½“;">æ–¹æ³•ï¼›å½“</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">å€¼ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">ï¼Œä¹Ÿå°±æ˜¯è¿›è¡Œç¬¬ä¸€æ¬¡æ¶ˆæ¯æ¥æ”¶çš„æ—¶å€™ä¼šå°†</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">çš„å€¼åŠ </span><span><span style="font-family: Calibri;">1</span></span><span style="font-family: å®‹ä½“;">ï¼ŒåŒæ—¶æŠ›å‡ºä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ã€‚é‚£ä¹ˆæˆ‘ä»¬è¿™é‡Œè¦æµ‹è¯•çš„å°±æ˜¯è¿›è¡Œç¬¬ä¸€æ¬¡æ¥æ”¶çš„æ—¶å€™</span><span><span style="font-family: Calibri;">testDao</span></span><span style="font-family: å®‹ä½“;">å·²ç»æŠŠç›¸å…³å†…å®¹æ’å…¥æ•°æ®åº“äº†ï¼Œæ¥ç€åœ¨</span><span><span style="font-family: Calibri;">onMessage</span></span><span style="font-family: å®‹ä½“;">é‡Œé¢æŠ›å‡ºäº†ä¸€ä¸ªå¼‚å¸¸åŒæ—¶</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">åŠ </span><span><span style="font-family: Calibri;">1</span></span><span style="font-family: å®‹ä½“;">ï¼Œæˆ‘ä»¬é¢„æœŸçš„ç»“æœåº”è¯¥æ˜¯æ­¤æ—¶æ•°æ®åº“è¿›è¡Œå›æ»šï¼ŒåŒæ—¶</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">ä¹Ÿå›æ»šï¼Œè¿™æ ·</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">å°†ç»§ç»­å°è¯•æ¥æ”¶è¯¥æ¶ˆæ¯ï¼Œæ­¤æ—¶åŒæ ·ä¼šè°ƒç”¨</span><span><span style="font-family: Calibri;">testDao</span></span><span style="font-family: å®‹ä½“;">çš„</span><span><span style="font-family: Calibri;">insert</span></span><span style="font-family: å®‹ä½“;">æ–¹æ³•å°†å†…å®¹æ’å…¥æ•°æ®åº“ï¼Œå†æ¥ç€</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">å·²ç»ä¸ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">äº†ï¼Œæ‰€ä»¥æ­¤æ—¶å°†ä¸å†æŠ›å‡ºå¼‚å¸¸ï¼Œ</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">æˆåŠŸè¿›è¡Œæ¶ˆæ¯çš„æ¥æ”¶ï¼Œ</span><span><span style="font-family: Calibri;">testDao</span></span><span style="font-family: å®‹ä½“;">ä¹ŸæˆåŠŸçš„å°†æ¶ˆæ¯å†…å®¹æ’å…¥åˆ°äº†æ•°æ®åº“ã€‚è¦è¯æ˜è¿™ä¸ªé¢„æœŸæˆ‘ä»¬é™¤äº†çœ‹æ•°æ®åº“ä¸­æ’å…¥çš„æ•°æ®å¤–ï¼Œè¿˜å¯ä»¥çœ‹æ§åˆ¶å°çš„è¾“å‡ºï¼Œæ­£å¸¸æƒ…å†µæ§åˆ¶å°å°†è¾“å‡ºä¸¤æ¬¡æ¶ˆæ¯æ¥æ”¶çš„å†…å®¹ï¼Œä¸”ç¬¬ä¸€æ¬¡æ—¶</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">ï¼Œç¬¬äºŒæ¬¡</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ä¸º</span><span><span style="font-family: Calibri;">1</span></span><span style="font-family: å®‹ä½“;">ã€‚</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span style="font-family: Calibri;"><span>       </span>TestDao</span></span><span style="font-family: å®‹ä½“;">æ˜¯ä¸€ä¸ªæ¥å£ï¼Œå…¶</span><span><span style="font-family: Calibri;">TestDaoImpl</span></span><span style="font-family: å®‹ä½“;">å¯¹</span><span><span style="font-family: Calibri;">insert</span></span><span style="font-family: å®‹ä½“;">çš„æ–¹æ³•å®ç°å¦‚ä¸‹ï¼š</span></span> </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="java" name="code">    @Transactional(readOnly=false)<br>    public void insert(final String name) {</pre></p>
<pre><code>    jdbcTemplate.update(&quot;insert into test(name) values(?)&quot;, name);

}
</code></pre><p><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;">       </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨æ”¯æŒ</span><span><span style="font-family: Calibri;">JtaTransactionManager</span></span><span style="font-family: å®‹ä½“;">çš„</span><span><span style="font-family: Calibri;">Weblogic</span></span><span style="font-family: å®‹ä½“;">æ¥è¿›è¡Œæµ‹è¯•ï¼Œå› ä¸ºæ˜¯</span><span><span style="font-family: Calibri;">Web</span></span><span style="font-family: å®‹ä½“;">å®¹å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ª</span><span><span style="font-family: Calibri;">Controller</span></span><span style="font-family: å®‹ä½“;">æ¥è¿›è¡Œæ¶ˆæ¯çš„å‘é€ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</span></span></p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"> </p><p></p>
<p><div class="iteye-blog-content-contain" style="font-size: 14px;"></div></p>
<p><pre class="java" name="code">@Controller<br>@RequestMapping(â€œtestâ€)<br>public class TestController {</pre></p>
<pre><code>@Autowired
@Qualifier(&quot;queueDestination&quot;)
private Destination destination;

@Autowired
private ProducerService producerService;

@RequestMapping(&quot;first&quot;)
public String first() {
    producerService.sendMessage(destination, &quot;ä½ å¥½ï¼Œç°åœ¨æ˜¯ï¼š&quot; + new Date().toLocaleString());
    return &quot;/test/first&quot;;
}
</code></pre><p>}<br><br></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;">      </p><p></p>
<p></p><p class="MsoNormal" style="text-align: left; margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span style="font-family: å®‹ä½“;">æ¥ä¸‹æ¥å°±æ˜¯å¯ç”¨</span><span><span style="font-family: Calibri;">Weblogic</span></span><span style="font-family: å®‹ä½“;">æœåŠ¡å™¨ï¼Œè¿›å…¥å…¶æ§åˆ¶å°ï¼Œå®šä¹‰ä¸€ä¸ªåå«â€œ</span><span><span style="font-family: Calibri;">jdbc/mysql</span></span><span style="font-family: å®‹ä½“;">â€çš„</span><span><span style="font-family: Calibri;">JNDI</span></span><span style="font-family: å®‹ä½“;">æ•°æ®æºï¼Œç„¶åæŠŠè¯¥é¡¹ç›®éƒ¨ç½²åˆ°</span><span><span style="font-family: Calibri;">Weblogic</span></span><span style="font-family: å®‹ä½“;">æœåŠ¡å™¨ä¸Šå¹¶è¿›è¡Œå¯åŠ¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥è®¿é—®</span><span><span style="font-family: Calibri;">/test/first.do</span></span><span style="font-family: å®‹ä½“;">è®¿é—®åˆ°ä¸Šè¿°</span><span><span style="font-family: Calibri;">first</span></span><span style="font-family: å®‹ä½“;">æ–¹æ³•ã€‚ä¹‹åæ§åˆ¶å°ä¼šè¾“å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</span></span></p><p></p>
<p></p><p class="MsoNormal" style="margin: 0cm 0cm 0pt;"><span style="font-size: medium;"><span><span><span style="font-family: Calibri;"><br><img alt="" src="http://dl2.iteye.com/upload/attachment/0091/7448/655db0fd-c363-3ebb-9165-9e3c59515307.png"><br>        </span></span></span><span style="font-family: å®‹ä½“;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">æ—¶æ¥æ”¶äº†ä¸€æ¬¡ï¼Œå¹¶éšåæŠ›å‡ºäº†å¼‚å¸¸ï¼Œä¹‹å</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ä¸º</span><span><span style="font-family: Calibri;">1</span></span><span style="font-family: å®‹ä½“;">åˆæ¥æ”¶äº†ä¸€æ¬¡ï¼Œè¿™è¯´æ˜åœ¨</span><span><span style="font-family: Calibri;">count</span></span><span style="font-family: å®‹ä½“;">ä¸º</span><span><span style="font-family: Calibri;">0</span></span><span style="font-family: å®‹ä½“;">æ—¶æŠ›å‡ºå¼‚å¸¸åæˆ‘ä»¬çš„</span><span><span style="font-family: Calibri;">JMS</span></span><span style="font-family: å®‹ä½“;">è¿›è¡Œå›æ»šäº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ•°æ®åº“æ˜¯å¦æœ‰è¿›è¡Œå›æ»šå‘¢ï¼Ÿæ¥ç€æˆ‘ä»¬æ¥çœ‹æ•°æ®åº“ä¸­çš„å†…å®¹ï¼š</span></span></p><p></p>
<p></p><p class="iteye-blog-content-contain" style="font-size: 14px;"><span><span><br><img alt="" src="http://dl2.iteye.com/upload/attachment/0091/7450/7196d8b4-8947-3ca9-aee2-c0831cc15061.png"><br>        </span></span><span style="font-family: å®‹ä½“; font-size: 12pt;">æˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®åº“è¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ï¼Œè€Œä¸”æœ€åä¸€ä½è¡¨ç¤º</span><span>count</span><span style="font-family: å®‹ä½“; font-size: 12pt;">çš„å€¼çš„ä¸º</span><span>1</span><span style="font-family: å®‹ä½“; font-size: 12pt;">ï¼Œè¿™è¯´æ˜åœ¨</span><span>JMS</span><span style="font-family: å®‹ä½“; font-size: 12pt;">è¿›è¡Œæ¶ˆæ¯æ¥æ”¶æŠ›å‡ºå¼‚å¸¸æ—¶æˆ‘ä»¬çš„æ•°æ®åº“ä¹Ÿå›æ»šäº†ã€‚å…³äºä½¿ç”¨</span><span>JtaTransactionManager</span><span style="font-family: å®‹ä½“; font-size: 12pt;">è¿›è¡Œåˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†çš„é—®é¢˜å°±è¯´åˆ°è¿™é‡Œäº†ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥è‡ªå·±è¯•éªŒä¸€ä¸‹ã€‚</span></p><p></p>
<p></p><p class="iteye-blog-content-contain" style="font-size: 14px;"> </p><p></p>
<div class="iteye-blog-content-contain" style="font-size: 14px;">

</div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2017/06/14/activemq-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/14/activemq-01/" itemprop="url">Springæ•´åˆActiveMQ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-14T14:17:28+08:00">
                2017-06-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div id="article_content" class="article_content tracking-ad" data-mod="popu_307" data-dsm="post"><br><br><h1>1.ç®¡ç†ActiveMQ</h1><br><p>åœ°å€ &nbsp;<a target="_blank" href="http://localhost:8161/admin/" style="color:rgb(255,153,0); text-decoration:none; font-family:'microsoft yahei'; font-size:14px; line-height:26px">http://localhost:8161/admin/</a></p><br><p>&nbsp; &nbsp; é»˜è®¤ç”¨æˆ·å’Œå¯†ç ï¼šadmin=admin</p><br><p></p><br><ol style="font-family:'microsoft yahei'; font-size:14px; line-height:26px"><br><li style=""><br><p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"><br>è¿è¡Œå‘é€è€…ï¼Œeclipseæ§åˆ¶å°è¾“å‡ºï¼Œå¦‚ä¸‹å›¾ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920173405956" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%">&nbsp;<br style=""><br>æ­¤æ—¶ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ActiveMQæœåŠ¡å™¨ï¼ŒQueueså†…å®¹å¦‚ä¸‹ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920173620033" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%"><br style=""><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åˆ›å»ºäº†ä¸€ä¸ªåç§°ä¸ºHelloWorldçš„æ¶ˆæ¯é˜Ÿåˆ—ï¼Œé˜Ÿåˆ—ä¸­æœ‰10æ¡æ¶ˆæ¯æœªè¢«æ¶ˆè´¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡BrowseæŸ¥çœ‹æ˜¯å“ªäº›æ¶ˆæ¯ï¼Œå¦‚ä¸‹å›¾ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920174135335" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%"><br style=""><br>å¦‚æœè¿™äº›é˜Ÿåˆ—ä¸­çš„æ¶ˆæ¯ï¼Œè¢«åˆ é™¤ï¼Œæ¶ˆè´¹è€…åˆ™æ— æ³•æ¶ˆè´¹ã€‚</p><br></li><li style=""><br><p style="margin-top:0px; margin-bottom:1.1em; padding-top:0px; padding-bottom:0px"><br>æˆ‘ä»¬ç»§ç»­è¿è¡Œä¸€ä¸‹æ¶ˆè´¹è€…ï¼Œeclipseæ§åˆ¶å°æ‰“å°æ¶ˆæ¯ï¼Œå¦‚ä¸‹ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920174317150" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%">&nbsp;<br style=""><br>æ­¤æ—¶ï¼Œæˆ‘ä»¬å…ˆçœ‹ä¸€ä¸‹ActiveMQæœåŠ¡å™¨ï¼ŒQueueså†…å®¹å¦‚ä¸‹ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920174417511" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%"><br style=""><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°HelloWorldçš„æ¶ˆæ¯é˜Ÿåˆ—å‘ç”Ÿå˜åŒ–ï¼Œå¤šä¸€ä¸ªæ¶ˆæ¯è€…ï¼Œé˜Ÿåˆ—ä¸­çš„10æ¡æ¶ˆæ¯è¢«æ¶ˆè´¹äº†ï¼Œç‚¹å‡»BrowseæŸ¥çœ‹ï¼Œå·²ç»ä¸ºç©ºäº†ã€‚&nbsp;<br style=""><br>ç‚¹å‡»Active Consumersï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ¶ˆè´¹è€…çš„è¯¦ç»†ä¿¡æ¯ï¼š&nbsp;<br style=""><br><img src="http://img.blog.csdn.net/20150920175100179" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°" title="" style="border:none; max-width:100%"></p><br></li></ol><br><br><br><p></p><br><p><br><br></p><br><h1>2.Springæ•´åˆActiveMQ</h1><br><h2>&nbsp; &nbsp;1.maven</h2><br><div>&nbsp; &nbsp; &nbsp; &nbsp;<pre code_snippet_id="1660918" snippet_file_name="blog_20160425_1_1952419" name="code" class="html">&lt;!â€“ActiveMQä¾èµ– â€“&gt;<br>        &lt;dependency&gt;<br>            &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;<br>            &lt;artifactId&gt;activemq-all&lt;/artifactId&gt;<br>            &lt;version&gt;5.13.2&lt;/version&gt;<br>        &lt;/dependency&gt;<br>&lt;!â€“ Springæ•´åˆActiveMQæ‰€éœ€ä¾èµ– â€“&gt;<br>            &lt;dependency&gt;<br>                &lt;groupId&gt;org.springframework&lt;/groupId&gt;<br>                &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;<br>            &lt;/dependency&gt;<br>            &lt;dependency&gt;<br>                &lt;groupId&gt;org.springframework&lt;/groupId&gt;<br>                &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;<br>            &lt;/dependency&gt;</pre><br><br><br><br><br><br><br><br></div><br><h2>&nbsp; &nbsp;2.ActiveMQé…ç½®æ–‡ä»¶</h2><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_2_1712439" name="code" class="html">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br>&lt;beans xmlns=&quot;<a href="http://www.springframework.org/schema/beans&amp;quot" target="_blank" rel="external">http://www.springframework.org/schema/beans&amp;quot</a>;<br>    xmlns:context=&quot;<a href="http://www.springframework.org/schema/context&amp;quot" target="_blank" rel="external">http://www.springframework.org/schema/context&amp;quot</a>;<br>    xmlns:xsi=&quot;<a href="http://www.w3.org/2001/XMLSchema-instance&amp;quot" target="_blank" rel="external">http://www.w3.org/2001/XMLSchema-instance&amp;quot</a>; xmlns:amq=&quot;<a href="http://activemq.apache.org/schema/core&amp;quot" target="_blank" rel="external">http://activemq.apache.org/schema/core&amp;quot</a>;<br>    xmlns:jms=&quot;<a href="http://www.springframework.org/schema/jms&amp;quot" target="_blank" rel="external">http://www.springframework.org/schema/jms&amp;quot</a>;<br>    xsi:schemaLocation=&quot;<a href="http://www.springframework.org/schema/beans" target="_blank" rel="external">http://www.springframework.org/schema/beans</a><br>        <a href="http://www.springframework.org/schema/beans/spring-beans-4.0.xsd" target="_blank" rel="external">http://www.springframework.org/schema/beans/spring-beans-4.0.xsd</a><br>        <a href="http://www.springframework.org/schema/context" target="_blank" rel="external">http://www.springframework.org/schema/context</a><br>        <a href="http://www.springframework.org/schema/context/spring-context-4.0.xsd" target="_blank" rel="external">http://www.springframework.org/schema/context/spring-context-4.0.xsd</a><br>        <a href="http://www.springframework.org/schema/jms" target="_blank" rel="external">http://www.springframework.org/schema/jms</a><br>        <a href="http://www.springframework.org/schema/jms/spring-jms-4.0.xsd" target="_blank" rel="external">http://www.springframework.org/schema/jms/spring-jms-4.0.xsd</a><br>        <a href="http://activemq.apache.org/schema/core" target="_blank" rel="external">http://activemq.apache.org/schema/core</a><br>        <a href="http://activemq.apache.org/schema/core/activemq-core-5.8.0.xsd&quot;&amp;gt" target="_blank" rel="external">http://activemq.apache.org/schema/core/activemq-core-5.8.0.xsd&quot;&amp;gt</a>;<br><br>    &lt;!â€“ ActiveMQ è¿æ¥å·¥å‚ â€“&gt;<br>    &lt;!â€“ çœŸæ­£å¯ä»¥äº§ç”ŸConnectionçš„ConnectionFactoryï¼Œç”±å¯¹åº”çš„ JMSæœåŠ¡å‚å•†æä¾›â€“&gt;<br>    &lt;!â€“ å¦‚æœè¿æ¥ç½‘ç»œï¼štcp://ip:61616ï¼›æœªè¿æ¥ç½‘ç»œï¼štcp://localhost:61616 ä»¥åŠç”¨æˆ·åï¼Œå¯†ç â€“&gt;<br>    &lt;amq:connectionFactory id=&quot;amqConnectionFactory&quot;<br>        brokerURL=&quot;tcp://172.17.65.29:61616&quot; userName=&quot;admin&quot; password=&quot;admin&quot;  /&gt;<br><br>    &lt;!â€“ Spring Cachingè¿æ¥å·¥å‚ â€“&gt;<br>    &lt;!â€“ Springç”¨äºç®¡ç†çœŸæ­£çš„ConnectionFactoryçš„ConnectionFactory â€“&gt;<br>    &lt;bean id=&quot;connectionFactory&quot; class=&quot;org.springframework.jms.connection.CachingConnectionFactory&quot;&gt;<br>        &lt;!â€“ ç›®æ ‡ConnectionFactoryå¯¹åº”çœŸå®çš„å¯ä»¥äº§ç”ŸJMS Connectionçš„ConnectionFactory â€“&gt;<br>        &lt;property name=&quot;targetConnectionFactory&quot; ref=&quot;amqConnectionFactory&quot;&gt;&lt;/property&gt;<br>        &lt;!â€“ åŒä¸Šï¼ŒåŒç† â€“&gt;<br>        &lt;!â€“ &lt;constructor-arg ref=&quot;amqConnectionFactory&quot; /&gt; â€“&gt;<br>        &lt;!â€“ Sessionç¼“å­˜æ•°é‡ â€“&gt;<br>        &lt;property name=&quot;sessionCacheSize&quot; value=&quot;100&quot; /&gt;<br>    &lt;/bean&gt;<br><br>    &lt;!â€“ Spring JmsTemplate çš„æ¶ˆæ¯ç”Ÿäº§è€… startâ€“&gt;<br><br>    &lt;!â€“ å®šä¹‰JmsTemplateçš„Queueç±»å‹ â€“&gt;<br>    &lt;bean id=&quot;jmsQueueTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;<br>        &lt;!â€“ è¿™ä¸ªconnectionFactoryå¯¹åº”çš„æ˜¯æˆ‘ä»¬å®šä¹‰çš„Springæä¾›çš„é‚£ä¸ªConnectionFactoryå¯¹è±¡ â€“&gt;<br>        &lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;<br>        &lt;!â€“ épub/subæ¨¡å‹ï¼ˆå‘å¸ƒ/è®¢é˜…ï¼‰ï¼Œå³é˜Ÿåˆ—æ¨¡å¼ â€“&gt;<br>        &lt;property name=&quot;pubSubDomain&quot; value=&quot;false&quot; /&gt;<br>    &lt;/bean&gt;<br><br>    &lt;!â€“ å®šä¹‰JmsTemplateçš„Topicç±»å‹ â€“&gt;<br>    &lt;bean id=&quot;jmsTopicTemplate&quot; class=&quot;org.springframework.jms.core.JmsTemplate&quot;&gt;<br>         &lt;!â€“ è¿™ä¸ªconnectionFactoryå¯¹åº”çš„æ˜¯æˆ‘ä»¬å®šä¹‰çš„Springæä¾›çš„é‚£ä¸ªConnectionFactoryå¯¹è±¡ â€“&gt;<br>        &lt;constructor-arg ref=&quot;connectionFactory&quot; /&gt;<br>        &lt;!â€“ pub/subæ¨¡å‹ï¼ˆå‘å¸ƒ/è®¢é˜…ï¼‰ â€“&gt;<br>        &lt;property name=&quot;pubSubDomain&quot; value=&quot;true&quot; /&gt;<br>    &lt;/bean&gt;<br><br>    &lt;!â€“Spring JmsTemplate çš„æ¶ˆæ¯ç”Ÿäº§è€… endâ€“&gt;<br><br><br>    &lt;!â€“ æ¶ˆæ¯æ¶ˆè´¹è€… startâ€“&gt;<br><br>    &lt;!â€“ å®šä¹‰Queueç›‘å¬å™¨ â€“&gt;<br>    &lt;jms:listener-container destination-type=&quot;queue&quot; container-type=&quot;default&quot; connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;&gt;<br>        &lt;jms:listener destination=&quot;test.queue&quot; ref=&quot;queueReceiver1&quot;/&gt;<br>        &lt;jms:listener destination=&quot;test.queue&quot; ref=&quot;queueReceiver2&quot;/&gt;<br>    &lt;/jms:listener-container&gt;<br><br>    &lt;!â€“ å®šä¹‰Topicç›‘å¬å™¨ â€“&gt;<br>    &lt;jms:listener-container destination-type=&quot;topic&quot; container-type=&quot;default&quot; connection-factory=&quot;connectionFactory&quot; acknowledge=&quot;auto&quot;&gt;<br>        &lt;jms:listener destination=&quot;test.topic&quot; ref=&quot;topicReceiver1&quot;/&gt;<br>        &lt;jms:listener destination=&quot;test.topic&quot; ref=&quot;topicReceiver2&quot;/&gt;<br>    &lt;/jms:listener-container&gt;<br><br>    &lt;!â€“ æ¶ˆæ¯æ¶ˆè´¹è€… end â€“&gt;<br>&lt;/beans&gt;  </pre><br><br><h2>3.ç”Ÿäº§è€…</h2><br></div><br><h3>1.queueæ¶ˆæ¯é˜Ÿåˆ—æ¨¡å¼</h3><br><div><br><br></div><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_3_2410550" name="code" class="java">package com.jay.mq.demo1.producer.queue;<br><br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.Session;<br><br><br>import org.springframework.beans.factory.annotation.Autowired;<br>import org.springframework.beans.factory.annotation.Qualifier;<br>import org.springframework.jms.core.JmsTemplate;<br>import org.springframework.jms.core.MessageCreator;<br>import org.springframework.stereotype.Component;<br><br><br>/<strong><br>&#160;<em> ActiveMQçš„æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å¼<br>&#160;</em> Description: &lt;br/&gt;<br>&#160;<em> é˜Ÿåˆ—æ¶ˆæ¯çš„ç”Ÿäº§è€…ï¼Œå‘å“¦æ˜¯å“ªä¸ªæ¶ˆæ¯åˆ°é˜Ÿåˆ—<br>&#160;</em> @author hetiewei<br>&#160;<em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ10:20:20<br>&#160;</em><br>&#160;*/<br>@Component(&quot;queueSender&quot;)<br>public class QueueSender1 {<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;/</strong><br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; <em> é€šè¿‡Qualifieræ¥æ³¨å…¥å¯¹åº”çš„Bean<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; </em>/<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;@Autowired<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;@Qualifier(&quot;jmsQueueTemplate&quot;)<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;private JmsTemplate jmsTemplate;<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;/<strong><br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; <em> Description: &lt;br/&gt;<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; </em> å‘é€æ¶ˆæ¯åˆ°æŒ‡å®šçš„é˜Ÿåˆ—(ç›®æ ‡)<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; <em> @author hetiewei<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; </em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ10:24:57<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; <em> @param queueName &#160;é˜Ÿåˆ—åç§°<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; </em> @param message &#160; &#160;æ¶ˆæ¯å†…å®¹<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt; */<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;public void send(String queueName, final String message){<br>&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;jmsTemplate.send(queueName, new MessageCreator() {<br>&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;<br>&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;public Message createMessage(Session session) throws JMSException {<br>&lt;span style=&quot;white-space:pre&quot;&gt;                &lt;/span&gt;return session.createTextMessage(message);<br>&lt;span style=&quot;white-space:pre&quot;&gt;            &lt;/span&gt;}<br>&lt;span style=&quot;white-space:pre&quot;&gt;        &lt;/span&gt;});<br>&lt;span style=&quot;white-space:pre&quot;&gt;    &lt;/span&gt;}<br>}<br></strong></pre><br><h3><br><br><br><br>2.&nbsp;topic/subè®¢é˜…æ¨¡å¼</h3><br></div><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_4_2552254" name="code" class="java">package com.jay.mq.demo1.producer.topic;<br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.Session;<br><br>import org.springframework.beans.factory.annotation.Autowired;<br>import org.springframework.beans.factory.annotation.Qualifier;<br>import org.springframework.jms.core.JmsTemplate;<br>import org.springframework.jms.core.MessageCreator;<br>import org.springframework.stereotype.Component;<br><br>/<br> <em> ActiveMQçš„topic/subæ¨¡å¼
 </em> Description: &lt;br/&gt;<br> <em> Topicç”Ÿäº§è€…å‘é€æ¶ˆæ¯åˆ°Topic
 </em> @author hetiewei<br> <em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ11:22:40
 </em><br> <em>/<br>@Component<br>public class TopicSender1 {<br><br>    @Autowired<br>    @Qualifier(&quot;jmsTopicTemplate&quot;)<br>    private JmsTemplate jmsTemplate;<br><br>    /**
     </em> å‘é€ä¸€æ¡æ¶ˆæ¯åˆ°æŒ‡å®šçš„é˜Ÿåˆ—ï¼ˆç›®æ ‡ï¼‰<br>     <em> @param queueName é˜Ÿåˆ—åç§°
     </em> @param message æ¶ˆæ¯å†…å®¹<br>     <em>/<br>    public void send(String topicName,final String message){<br>        jmsTemplate.send(topicName, new MessageCreator() {<br><br>            public Message createMessage(Session session) throws JMSException {<br>                return session.createTextMessage(message);<br>            }<br>        });<br>    }<br><br>}<br></em></pre><br><br><br><br></div><br><h2>4.æ¶ˆè´¹è€…</h2><br><h3>1.queueæ¶ˆæ¯é˜Ÿåˆ—æ¨¡å¼</h3><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_5_3250365" name="code" class="java">package com.jay.mq.demo1.consumer.queue;<br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.MessageListener;<br>import javax.jms.TextMessage;<br><br>import org.springframework.stereotype.Component;<br><br>/**
  Description: &lt;br/&gt;<br> <em> æ¶ˆæ¯é˜Ÿåˆ—ç›‘å¬å™¨
 </em> @author hetiewei<br> <em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ10:32:14
 </em><br> <em>/<br>@Component<br>public class QueueReceiver1 implements MessageListener {<br><br>    public void onMessage(Message message) {<br>        try {<br>            System.out.println(&quot;QueueReceiver1æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;+((TextMessage)message).getText());<br>        } catch (JMSException e) {<br>            e.printStackTrace();<br>        }<br>    }<br><br>}<br></em></pre><br><br><br><br></div><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_6_3915457" name="code" class="java">package com.jay.mq.demo1.consumer.queue;<br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.MessageListener;<br>import javax.jms.TextMessage;<br><br>import org.springframework.stereotype.Component;<br><br>/**
  Description: &lt;br/&gt;<br> <em> æ¶ˆæ¯é˜Ÿåˆ—ç›‘å¬å™¨
 </em> @author hetiewei<br> <em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ10:32:14
 </em><br> <em>/<br>@Component<br>public class QueueReceiver2 implements MessageListener {<br><br>    public void onMessage(Message message) {<br>        try {<br>            System.out.println(&quot;QueueReceiver2æ¥æ”¶åˆ°æ¶ˆæ¯ï¼š&quot;+((TextMessage)message).getText());<br>        } catch (JMSException e) {<br>            e.printStackTrace();<br>        }<br>    }<br><br>}<br></em></pre><br><br><br><br></div><br><h3>2.topic/subè®¢é˜…æ¨¡å¼</h3><br><div><br><br></div><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_7_6249771" name="code" class="java">package com.jay.mq.demo1.consumer.topic;<br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.MessageListener;<br>import javax.jms.TextMessage;<br><br>import org.springframework.stereotype.Component;<br><br>@Component<br>public class TopicReceiver1 implements MessageListener{<br><br>    public void onMessage(Message message) {<br>        try {<br>            System.out.println(&quot;TopicReceiver1æ¥æ”¶åˆ°æ¶ˆæ¯:&quot;+((TextMessage)message).getText());<br>        } catch (JMSException e) {<br>            e.printStackTrace();<br>        }<br>    }<br><br>}<br></pre><br><br><br><br></div><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_8_4755272" name="code" class="java">package com.jay.mq.demo1.consumer.topic;<br><br>import javax.jms.JMSException;<br>import javax.jms.Message;<br>import javax.jms.MessageListener;<br>import javax.jms.TextMessage;<br><br>import org.springframework.stereotype.Component;<br><br>@Component<br>public class TopicReceiver2 implements MessageListener{<br><br>    public void onMessage(Message message) {<br>        try {<br>            System.out.println(&quot;TopicReceiver2æ¥æ”¶åˆ°æ¶ˆæ¯:&quot;+((TextMessage)message).getText());<br>        } catch (JMSException e) {<br>            e.printStackTrace();<br>        }<br>    }<br><br>}<br></pre><br><h2></h2><br><h2>5.Controller</h2><br><div><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_9_993281" name="code" class="java">package com.jay.controller.demo1;<br><br>import javax.annotation.Resource;<br><br>import org.springframework.beans.factory.annotation.Autowired;<br>import org.springframework.stereotype.Controller;<br>import org.springframework.web.bind.annotation.RequestMapping;<br>import org.springframework.web.bind.annotation.RequestParam;<br>import org.springframework.web.bind.annotation.ResponseBody;<br><br>import com.jay.mq.demo1.producer.queue.QueueSender1;<br>import com.jay.mq.demo1.producer.topic.TopicSender1;<br><br>/**
  Description: &lt;br/&gt;<br> <em> 
 </em> @author hetiewei<br> <em> @date 2016å¹´4æœˆ25æ—¥ ä¸Šåˆ10:35:31
 </em><br> <em>/<br>@Controller<br>@RequestMapping(&quot;activemq&quot;)<br>public class ActivemqController1 {<br><br>    @Resource<br>    private QueueSender1 queueSender;<br>    @Autowired<br>    private TopicSender1 topicSender;<br><br>    /**
     </em> å‘é€æ¶ˆæ¯åˆ°é˜Ÿåˆ—<br>     <em> Queueé˜Ÿåˆ—ï¼šä»…æœ‰ä¸€ä¸ªè®¢é˜…è€…ä¼šæ”¶åˆ°æ¶ˆæ¯ï¼Œæ¶ˆæ¯ä¸€æ—¦è¢«å¤„ç†å°±ä¸ä¼šå­˜åœ¨é˜Ÿåˆ—ä¸­
     </em> @param message<br>     <em> @return String
     </em>/<br>    @ResponseBody<br>    @RequestMapping(&quot;queueSender&quot;)<br>    public String queueSender(@RequestParam(&quot;message&quot;)String message){<br>        String opt=&quot;&quot;;<br>        try {<br>            queueSender.send(&quot;test.queue&quot;, message);<br>            opt = &quot;suc&quot;;<br>        } catch (Exception e) {<br>            opt = e.getCause().toString();<br>        }<br>        return opt;<br>    }<br><br>    @ResponseBody<br>    @RequestMapping(&quot;topicSender&quot;)<br>    public String topoicSender(@RequestParam(&quot;message&quot;)String message){<br>        String opt = &quot;&quot;;<br>        try {<br>            topicSender.send(&quot;test.topic&quot;, message);<br>            opt = &quot;suc&quot;;<br>        } catch (Exception e) {<br>            opt = e.getCause().toString();<br>        }<br>        return opt;<br>    }<br><br><br>}<br></pre><br><h1><br><br><br><br>3.<span style="color:rgb(64,64,64); line-height:25.2px; font-family:Cambria; font-size:14px">ActiveMQ</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:1.3em; line-height:1.1">çš„å¤šç§éƒ¨ç½²æ–¹å¼</span></h1><br></div><br></div><br><div><br><p align="left" style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>å•ç‚¹çš„<span style="line-height:25.2px; font-family:Calibri">ActiveMQ</span>ä½œä¸ºä¼ä¸šåº”ç”¨æ— æ³•æ»¡è¶³é«˜å¯ç”¨å’Œé›†ç¾¤çš„éœ€æ±‚ï¼Œæ‰€ä»¥<span style="line-height:25.2px; font-family:Calibri">ActiveMQ</span>æä¾›äº†<span style="line-height:25.2px; font-family:Calibri">master-slave</span>ã€<span style="line-height:25.2px; font-family:Calibri">broker<br> cluster</span>ç­‰å¤šç§éƒ¨ç½²æ–¹å¼ï¼Œä½†é€šè¿‡åˆ†æå¤šç§éƒ¨ç½²æ–¹å¼ä¹‹åæˆ‘è®¤ä¸ºéœ€è¦å°†ä¸¤ç§éƒ¨ç½²æ–¹å¼ç›¸ç»“åˆæ‰èƒ½æ»¡è¶³æˆ‘ä»¬å…¬å¸åˆ†å¸ƒå¼å’Œé«˜å¯ç”¨çš„éœ€æ±‚ï¼Œæ‰€ä»¥åé¢å°±é‡ç‚¹å°†è§£å¦‚ä½•å°†ä¸¤ç§éƒ¨ç½²æ–¹å¼ç›¸ç»“åˆã€‚</p><br><h5 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:14px"><br><a target="_blank" name="t7" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:25.2px">1ã€Master-Slaveéƒ¨ç½²æ–¹å¼</span></h5><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t8" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">1ï¼‰shared filesystem Master-Slaveéƒ¨ç½²æ–¹å¼</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ä¸»è¦æ˜¯é€šè¿‡å…±äº«å­˜å‚¨ç›®å½•æ¥å®ç°<span style="line-height:25.2px; font-family:Calibri">master</span>å’Œ<span style="line-height:25.2px; font-family:Calibri">slave</span>çš„çƒ­å¤‡ï¼Œæ‰€æœ‰çš„<span style="line-height:25.2px; font-family:Calibri">ActiveMQ</span>åº”ç”¨éƒ½åœ¨ä¸æ–­åœ°è·å–å…±äº«ç›®å½•çš„æ§åˆ¶æƒï¼Œå“ªä¸ªåº”ç”¨æŠ¢åˆ°äº†æ§åˆ¶æƒï¼Œå®ƒå°±æˆä¸º<span style="line-height:25.2px; font-family:Calibri">master</span>ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>å¤šä¸ªå…±äº«å­˜å‚¨ç›®å½•çš„åº”ç”¨ï¼Œè°å…ˆå¯åŠ¨ï¼Œè°å°±å¯ä»¥æœ€æ—©å–å¾—å…±äº«ç›®å½•çš„æ§åˆ¶æƒæˆä¸º<span style="line-height:25.2px; font-family:Calibri">master</span>ï¼Œå…¶ä»–çš„åº”ç”¨å°±åªèƒ½ä½œä¸º<span style="line-height:25.2px; font-family:Calibri">slave</span>ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><img title="p2.png" border="0" alt="p2.png" src="http://static.open-open.com/lib/uploadImg/20140515/20140515120001_591.png" width="323" height="250" style="border:0px; vertical-align:middle; max-width:100%"></p><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t9" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">2ï¼‰shared database Master-Slaveæ–¹å¼</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ä¸<span style="line-height:25.2px; font-family:Calibri">shared filesystem</span>æ–¹å¼ç±»&#20284;ï¼Œåªæ˜¯å…±äº«çš„å­˜å‚¨ä»‹è´¨ç”±æ–‡ä»¶ç³»ç»Ÿæ”¹æˆäº†æ•°æ®åº“è€Œå·²ã€‚</p><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t10" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">3ï¼‰Replicated LevelDB Storeæ–¹å¼</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>è¿™ç§ä¸»å¤‡æ–¹å¼æ˜¯<span style="line-height:25.2px; font-family:Calibri">ActiveMQ5.9</span>ä»¥åæ‰æ–°å¢çš„ç‰¹æ€§ï¼Œä½¿ç”¨<span style="line-height:25.2px; font-family:Calibri">ZooKeeper</span>åè°ƒé€‰æ‹©ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">node</span>ä½œä¸º<span style="line-height:25.2px; font-family:Calibri">master</span>ã€‚è¢«é€‰æ‹©çš„<span style="line-height:25.2px; font-family:Calibri">master<br> broker node</span>å¼€å¯å¹¶æ¥å—å®¢æˆ·ç«¯è¿æ¥ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">å…¶ä»–<span style="line-height:25.2px; font-family:Calibri">node</span>è½¬å…¥<span style="line-height:25.2px; font-family:Calibri">slave</span>æ¨¡å¼ï¼Œè¿æ¥<span style="line-height:25.2px; font-family:Calibri">master</span>å¹¶åŒæ­¥ä»–ä»¬çš„å­˜å‚¨çŠ¶æ€ã€‚<span style="line-height:25.2px; font-family:Calibri">slave</span>ä¸æ¥å—å®¢æˆ·ç«¯è¿æ¥ã€‚æ‰€æœ‰çš„å­˜å‚¨æ“ä½œéƒ½å°†è¢«å¤åˆ¶åˆ°è¿æ¥è‡³<span style="line-height:25.2px; font-family:Calibri">Master</span>çš„<span style="line-height:25.2px; font-family:Calibri">slaves</span>ã€‚</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">å¦‚æœ<span style="line-height:25.2px; font-family:Calibri">master</span>æ­»äº†ï¼Œå¾—åˆ°äº†æœ€æ–°æ›´æ–°çš„<span style="line-height:25.2px; font-family:Calibri">slave</span>è¢«å…è®¸æˆä¸º<span style="line-height:25.2px; font-family:Calibri">master</span>ã€‚<span style="line-height:25.2px; font-family:Calibri">fialed<br> node</span>èƒ½å¤Ÿé‡æ–°åŠ å…¥åˆ°ç½‘ç»œä¸­å¹¶è¿æ¥<span style="line-height:25.2px; font-family:Calibri">master</span>è¿›å…¥<span style="line-height:25.2px; font-family:Calibri">slave mode</span>ã€‚æ‰€æœ‰éœ€è¦åŒæ­¥çš„<span style="line-height:25.2px; font-family:Calibri">disk</span>çš„æ¶ˆæ¯æ“ä½œéƒ½å°†ç­‰å¾…å­˜å‚¨çŠ¶æ€è¢«å¤åˆ¶åˆ°å…¶ä»–æ³•å®šèŠ‚ç‚¹çš„æ“ä½œå®Œæˆæ‰èƒ½å®Œæˆã€‚æ‰€ä»¥ï¼Œå¦‚æœä½ é…ç½®äº†<span style="line-height:25.2px; font-family:Calibri">replicas=3</span>ï¼Œé‚£ä¹ˆæ³•å®šå¤§å°æ˜¯<span style="line-height:25.2px; font-family:Calibri">(3/2)&#43;1=2.<br> Master</span>å°†ä¼šå­˜å‚¨å¹¶æ›´æ–°ç„¶åç­‰å¾…<span style="line-height:25.2px; font-family:Calibri">&nbsp;(2-1)=1</span>ä¸ª<span style="line-height:25.2px; font-family:Calibri">slave</span>å­˜å‚¨å’Œæ›´æ–°å®Œæˆï¼Œæ‰æ±‡æŠ¥<span style="line-height:25.2px; font-family:Calibri">success</span>ã€‚è‡³äºä¸ºä»€ä¹ˆæ˜¯<span style="line-height:25.2px; font-family:Calibri">2-1</span>ï¼Œç†Ÿæ‚‰<span style="line-height:25.2px; font-family:Calibri">Zookeeper</span>çš„åº”è¯¥çŸ¥é“ï¼Œæœ‰ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">node</span>è¦ä½œä¸ºè§‚æ“¦è€…å­˜åœ¨ã€‚</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">å•ä¸€ä¸ªæ–°çš„<span style="line-height:25.2px; font-family:Calibri">master</span>è¢«é€‰ä¸­ï¼Œä½ éœ€è¦è‡³å°‘ä¿éšœä¸€ä¸ªæ³•å®š<span style="line-height:25.2px; font-family:Calibri">node</span>åœ¨çº¿ä»¥èƒ½å¤Ÿæ‰¾åˆ°æ‹¥æœ‰æœ€æ–°çŠ¶æ€çš„<span style="line-height:25.2px; font-family:Calibri">node</span>ã€‚è¿™ä¸ª<span style="line-height:25.2px; font-family:Calibri">node</span>å°†ä¼šæˆä¸ºæ–°çš„<span style="line-height:25.2px; font-family:Calibri">master</span>ã€‚å› æ­¤ï¼Œæ¨èè¿è¡Œè‡³å°‘<span style="line-height:25.2px; font-family:Calibri">3</span>ä¸ª<span style="line-height:25.2px; font-family:Calibri">replica<br> nodes</span>ï¼Œä»¥é˜²æ­¢ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">node</span>å¤±è´¥äº†ï¼ŒæœåŠ¡ä¸­æ–­ã€‚</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><img title="p3.png" border="0" alt="p3.png" src="http://static.open-open.com/lib/uploadImg/20140515/20140515115951_604.png" width="328" height="153" style="border:0px; vertical-align:middle; max-width:100%"></p><br><h5 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:14px"><br><a target="_blank" name="t11" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:25.2px">2ã€Broker-Clusteréƒ¨ç½²æ–¹å¼</span></h5><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>å‰é¢çš„<span style="line-height:25.2px; font-family:Calibri">Master-Slave</span>çš„æ–¹å¼è™½ç„¶èƒ½è§£å†³å¤šæœåŠ¡çƒ­å¤‡çš„é«˜å¯ç”¨é—®é¢˜ï¼Œä½†æ— æ³•è§£å†³è´Ÿè½½å‡è¡¡å’Œåˆ†å¸ƒå¼çš„é—®é¢˜ã€‚<span style="line-height:25.2px; font-family:Calibri">Broker-Cluster</span>çš„éƒ¨ç½²æ–¹å¼å°±å¯ä»¥è§£å†³è´Ÿè½½å‡è¡¡çš„é—®é¢˜ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Broker-Cluster</span>éƒ¨ç½²æ–¹å¼ä¸­ï¼Œå„ä¸ª<span style="line-height:25.2px; font-family:Calibri">broker</span>é€šè¿‡ç½‘ç»œäº’ç›¸è¿æ¥ï¼Œå¹¶å…±äº«<span style="line-height:25.2px; font-family:Calibri">queue</span>ã€‚å½“<span style="line-height:25.2px; font-family:Calibri">broker-A</span>ä¸Šé¢æŒ‡å®šçš„<span style="line-height:25.2px; font-family:Calibri">queue-A</span>ä¸­æ¥æ”¶åˆ°ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">message</span>å¤„äº<span style="line-height:25.2px; font-family:Calibri">pending</span>çŠ¶æ€ï¼Œè€Œæ­¤æ—¶æ²¡æœ‰<span style="line-height:25.2px; font-family:Calibri">consumer</span>è¿æ¥<span style="line-height:25.2px; font-family:Calibri">broker-A</span>æ—¶ã€‚å¦‚æœ<span style="line-height:25.2px; font-family:Calibri">cluster</span>ä¸­çš„<span style="line-height:25.2px; font-family:Calibri">broker-B</span>ä¸Šé¢ç”±ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">consumer</span>åœ¨æ¶ˆè´¹<span style="line-height:25.2px; font-family:Calibri">queue-A</span>çš„æ¶ˆæ¯ï¼Œé‚£ä¹ˆ<span style="line-height:25.2px; font-family:Calibri">broker-B</span>ä¼šå…ˆé€šè¿‡å†…éƒ¨ç½‘ç»œè·å–åˆ°<span style="line-height:25.2px; font-family:Calibri">broker-A</span>ä¸Šé¢çš„<span style="line-height:25.2px; font-family:Calibri">message</span>ï¼Œå¹¶é€šçŸ¥è‡ªå·±çš„<span style="line-height:25.2px; font-family:Calibri">consumer</span>æ¥æ¶ˆè´¹ã€‚</p><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t12" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">1ï¼‰static Broker-Clusteréƒ¨ç½²</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>åœ¨<span style="line-height:25.2px; font-family:Calibri">activemq.xml</span>æ–‡ä»¶ä¸­é™æ€æŒ‡å®š<span style="line-height:25.2px; font-family:Calibri">Broker</span>éœ€è¦å»ºç«‹æ¡¥è¿æ¥çš„å…¶ä»–<span style="line-height:25.2px; font-family:Calibri">Broker</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">1ã€</span>&nbsp;&nbsp;<span style="line-height:25.2px">é¦–å…ˆåœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnector&nbsp;&nbsp; uri=&quot;static:(tcp:// 0.0.0.0:61617)&quot;duplex=&quot;false&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">2ã€</span>&nbsp;&nbsp;<span style="line-height:25.2px">ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61616</span>ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">3ã€</span>&nbsp;&nbsp;<span style="line-height:25.2px">åœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnector&nbsp;&nbsp; uri=&quot;static:(tcp:// 0.0.0.0:61616)&quot;duplex=&quot;false&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">4ã€</span>&nbsp;&nbsp;<span style="line-height:25.2px">ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61617</span>ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61617?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">5</span>ã€åˆ†åˆ«å¯åŠ¨<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>å’Œ<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>ã€‚</p><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t13" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">2ï¼‰Dynamic Broker-Clusteréƒ¨ç½²</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>åœ¨<span style="line-height:25.2px; font-family:Calibri">activemq.xml</span>æ–‡ä»¶ä¸­ä¸ç›´æ¥æŒ‡å®š<span style="line-height:25.2px; font-family:Calibri">Broker</span>éœ€è¦å»ºç«‹æ¡¥è¿æ¥çš„å…¶ä»–<span style="line-height:25.2px; font-family:Calibri">Broker</span>ï¼Œç”±<span style="line-height:25.2px; font-family:Calibri">activemq</span>åœ¨å¯åŠ¨ååŠ¨æ€æŸ¥æ‰¾ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">1ã€</span>&nbsp;&nbsp;<span style="line-height:25.2px">é¦–å…ˆåœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnectoruri=&quot;multicast://default&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dynamicOnly=&quot;true&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;networkTTL=&quot;3&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefetchSize=&quot;1&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decreaseNetworkConsumerPriority=&quot;true&quot; /&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">2</span>ã€ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61616</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61616? &quot; discoveryUri=&quot;multicast://default&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">3</span>ã€åœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnectoruri=&quot;multicast://default&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dynamicOnly=&quot;true&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;networkTTL=&quot;3&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prefetchSize=&quot;1&quot;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decreaseNetworkConsumerPriority=&quot;true&quot; /&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">4</span>ã€ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61617</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61617&quot; discoveryUri=&quot;multicast://default&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">5</span>ã€å¯åŠ¨<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>å’Œ<span style="line-height:25.2px; font-family:Calibri">Broker-B</span></p><br><h5 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:14px"><br><a target="_blank" name="t14" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:25.2px">2ã€Master-Slaveä¸<span style="line-height:25.2px; font-family:Calibri">Broker-Cluster</span>ç›¸ç»“åˆçš„éƒ¨ç½²æ–¹å¼</span></h5><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>å¯ä»¥çœ‹åˆ°<span style="line-height:25.2px; font-family:Calibri">Master-Slave</span>çš„éƒ¨ç½²æ–¹å¼è™½ç„¶è§£å†³äº†é«˜å¯ç”¨çš„é—®é¢˜ï¼Œä½†ä¸æ”¯æŒè´Ÿè½½å‡è¡¡ï¼Œ<span style="line-height:25.2px; font-family:Calibri">Broker-Cluster</span>è§£å†³äº†è´Ÿè½½å‡è¡¡ï¼Œä½†å½“å…¶ä¸­ä¸€ä¸ª<span style="line-height:25.2px; font-family:Calibri">Broker</span>çªç„¶å®•æ‰çš„è¯ï¼Œé‚£ä¹ˆå­˜åœ¨äºè¯¥<span style="line-height:25.2px; font-family:Calibri">Broker</span>ä¸Šå¤„äº<span style="line-height:25.2px; font-family:Calibri">Pending</span>çŠ¶æ€çš„<span style="line-height:25.2px; font-family:Calibri">message</span>å°†ä¼šä¸¢å¤±ï¼Œæ— æ³•è¾¾åˆ°é«˜å¯ç”¨çš„ç›®çš„ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>ç”±äºç›®å‰<span style="line-height:25.2px; font-family:Calibri">ActiveMQ</span>å®˜ç½‘ä¸Šå¹¶æ²¡æœ‰ä¸€ä¸ªæ˜ç¡®çš„å°†ä¸¤ç§éƒ¨ç½²æ–¹å¼ç›¸ç»“åˆçš„éƒ¨ç½²æ–¹æ¡ˆï¼Œæ‰€ä»¥æˆ‘å°è¯•è€…æŠŠä¸¤è€…ç»“åˆèµ·æ¥éƒ¨ç½²ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img title="p4.png" border="0" alt="p4.png" src="http://static.open-open.com/lib/uploadImg/20140515/20140515115919_992.png" width="636" height="361" style="border:0px; vertical-align:middle; max-width:100%"></span></p><br><h6 style="font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-weight:500; line-height:1.1; color:rgb(64,64,64); margin-top:10px; margin-bottom:10px; font-size:12px"><br><a target="_blank" name="t15" style="color:rgb(136,136,136); background-color:transparent"></a><span style="line-height:21.6px">1ã€éƒ¨ç½²çš„é…ç½®ä¿®æ”¹</span></h6><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>è¿™é‡Œä»¥<span style="line-height:25.2px; font-family:Calibri">Broker-A &#43; Broker-B</span>å»ºç«‹<span style="line-height:25.2px; font-family:Calibri">cluster</span>ï¼Œ<span style="line-height:25.2px; font-family:Calibri">Broker-C</span>ä½œä¸º<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>çš„<span style="line-height:25.2px; font-family:Calibri">slave</span>ä¸ºä¾‹ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">1ï¼‰</span>é¦–å…ˆåœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnector&nbsp;&nbsp; uri=&quot;<span style="line-height:25.2px; color:red">masterslave:(tcp://0.0.0.0:61617,tcp:// 0.0.0.0:61618</span>)&quot; duplex=&quot;false&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">2ï¼‰</span>ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-A</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61616</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">3ï¼‰</span>åœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnector&nbsp;&nbsp; uri=&quot;static:(tcp:// 0.0.0.0:61616)&quot;duplex=&quot;false&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">4ï¼‰</span>ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61617</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61617?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">5ï¼‰</span><span style="line-height:25.2px">ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­çš„æŒä¹…åŒ–æ–¹å¼ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;persistenceAdapter&gt;</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;kahaDB directory=&quot;<span style="line-height:25.2px; color:red">/localhost/kahadb</span>&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&lt;/persistenceAdapter&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">6ï¼‰</span>åœ¨<span style="line-height:25.2px; font-family:Calibri">Broker-C</span>èŠ‚ç‚¹ä¸­æ·»åŠ <span style="line-height:25.2px; font-family:Calibri">networkConnector</span>èŠ‚ç‚¹ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;networkConnectors&gt;&nbsp;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;networkConnector&nbsp;&nbsp; uri=&quot;static:(tcp:// 0.0.0.0:61616)&quot;duplex=&quot;false&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/networkConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">7ï¼‰</span>ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-C</span>èŠ‚ç‚¹ä¸­çš„æœåŠ¡æä¾›ç«¯å£ä¸º<span style="line-height:25.2px; font-family:Calibri">61618</span>ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;transportConnectorname=&quot;openwire&quot;uri=&quot;tcp://0.0.0.0:61618?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&lt;/transportConnectors&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">8ï¼‰</span>ä¿®æ”¹<span style="line-height:25.2px; font-family:Calibri">Broker-B</span>èŠ‚ç‚¹ä¸­çš„æŒä¹…åŒ–æ–¹å¼ï¼š</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;persistenceAdapter&gt;</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;kahaDB directory=&quot;<span style="line-height:25.2px; color:red">/localhost/kahadb</span>&quot;/&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/persistenceAdapter&gt;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:Calibri">9ï¼‰</span>åˆ†åˆ«å¯åŠ¨<span style="line-height:25.2px; font-family:Calibri">broker-A</span>ã€<span style="line-height:25.2px; font-family:Calibri">broker-B</span>ã€<span style="line-height:25.2px; font-family:Calibri">broker-C</span>ï¼Œå› ä¸ºæ˜¯<span style="line-height:25.2px; font-family:Calibri">broker-B</span>å…ˆå¯åŠ¨ï¼Œæ‰€ä»¥â€œ<span style="line-height:25.2px; font-family:Calibri">/localhost/kahadb</span>â€ç›®å½•è¢«<span style="line-height:25.2px; font-family:Calibri">lock</span>ä½ï¼Œ<span style="line-height:25.2px; font-family:Calibri">broker-C</span>å°†ä¸€ç›´å¤„äºæŒ‚èµ·çŠ¶æ€ï¼Œå½“äººä¸ºåœæ‰<span style="line-height:25.2px; font-family:Calibri">broker-B</span>ä¹‹åï¼Œ<span style="line-height:25.2px; font-family:Calibri">broker-C</span>å°†è·å–ç›®å½•â€œ<span style="line-height:25.2px; font-family:Calibri">/localhost/kahadb</span>â€çš„æ§åˆ¶æƒï¼Œé‡æ–°ä¸<span style="line-height:25.2px; font-family:Calibri">broker-A</span>ç»„æˆ<span style="line-height:25.2px; font-family:Calibri">cluster</span>æä¾›æœåŠ¡ã€‚</p><br><br><br></div><br><h1><br><br>4.ActiveMQä¹‹Master-Slaver&#43;è´Ÿè½½å‡è¡¡</h1><br><div><br><br></div><br><div><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br>ä»€ä¹ˆå«ä¸­é—´ä»¶?<br style="line-height:10px"><br>ä¸­é—´ä»¶ä¸ºè½¯ä»¶åº”ç”¨æä¾›äº†æ“ä½œç³»ç»Ÿæ‰€æä¾›çš„æœåŠ¡ä¹‹å¤–çš„æœåŠ¡ï¼Œå¯ä»¥æŠŠä¸­é—´ä»¶æè¿°ä¸º&quot;è½¯ä»¶èƒ¶æ°´&quot;ã€‚ä¸­é—´ä»¶ä¸æ˜¯æ“ä½œç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¸æ˜¯æ•°æ®åº“æ“ä½œç³»ç»Ÿï¼Œä¹Ÿä¸æ˜¯åº”ç”¨è½¯ä»¶çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯èƒ½å¤Ÿè®©è½¯ä»¶å¼€å‘è€…æ–¹ä¾¿çš„å¤„ç†é€šä¿¡ã€è¾“å…¥å’Œè¾“å‡ºï¼Œèƒ½å¤Ÿä¸“æ³¨è‡ªå·±åº”ç”¨çš„éƒ¨åˆ†ã€‚</p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; color:rgb(76,51,229)">æ¶ˆæ¯ä¸­é—´ä»¶è§£å†³äº†åº”ç”¨ä¹‹é—´çš„æ¶ˆæ¯ä¼ é€’ã€è§£è€¦ã€å¼‚æ­¥çš„é—®é¢˜ã€‚</span><br style="line-height:10px"><br><span style="line-height:1.5">ActiveMQ æ˜¯Apacheå‡ºå“ï¼Œæœ€æµè¡Œçš„ï¼Œèƒ½åŠ›å¼ºåŠ²çš„å¼€æºæ¶ˆæ¯æ€»çº¿ã€‚ActiveMQ æ˜¯ä¸€ä¸ªå®Œå…¨æ”¯æŒJMS1.1å’ŒJ2EE 1.4è§„èŒƒçš„ JMS Providerå®ç°ï¼Œå°½ç®¡JMSè§„èŒƒå‡ºå°å·²ç»æ˜¯å¾ˆä¹…çš„äº‹æƒ…äº†ï¼Œä½†æ˜¯JMSåœ¨å½“ä»Šçš„J2EEåº”ç”¨ä¸­é—´ä»ç„¶æ‰®æ¼”ç€ç‰¹æ®Šçš„åœ°ä½ã€‚</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5">ä¸€èˆ¬ä¸­é—´ä»¶éƒ½æä¾›äº†æ¨ªå‘æ‰©å±•å’Œçºµå‘æ‰©å±•ï¼Œ<span style="line-height:25.2px">æ¨ªå‘æ‰©å±•å°±æ˜¯æˆ‘ä»¬ç»å¸¸è¯´çš„<span style="line-height:25.2px; color:rgb(76,51,229)">è´Ÿè½½å‡è¡¡</span></span>,<span style="line-height:25.2px">çºµå‘æ‰©å±•æä¾›äº†<span style="line-height:25.2px; color:rgb(76,51,229)">Master-Slaver</span></span>;</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)">è´Ÿè½½å‡è¡¡:<span style="line-height:25.2px; color:rgb(0,0,0)">æä¾›</span></span>è´Ÿè½½å‡è¡¡çš„ä¸­é—´ä»¶éƒ½å¯¹å¤–æä¾›æœåŠ¡<br style="line-height:10px"><br><span style="line-height:25.2px; color:rgb(76,51,229)">Master-Slaverï¼š<span style="line-height:25.2px; color:rgb(0,0,0)">åŒæ—¶åªæœ‰ä¸€ä¸ªä¸­é—´ä»¶å¯¹å¤–æä¾›æœåŠ¡,å½“Masterå‡ºç°æŒ‚æœºç­‰é—®é¢˜ï¼ŒSlaverä¼šè‡ªåŠ¨æ¥ç®¡</span></span><br style="line-height:10px"><br></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">çœ‹ä¸€ä¸ªæ•´åˆçš„ç®€å›¾:<br style="line-height:10px"><br><img alt="" src="http://static.open-open.com/lib/uploadImg/20160102/20160102210319_351.png" width="509" height="308" style="border:0px; vertical-align:middle; max-width:100%"><br style="line-height:10px"><br></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)">Master-Slaveå’ŒBroker Cluster</span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">å‡†å¤‡ï¼š<br style="line-height:10px"><br>jdk1.6ï¼Œapache-activemq-5.10.0ï¼Œmysql5.1ï¼Œzookeeper-3.4.3</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">å…ˆæ¥çœ‹çœ‹<span style="line-height:25.2px; color:rgb(76,51,229)">Master-Slave<span style="line-height:25.2px; color:rgb(0,0,0)">æ¨¡å¼</span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)">Shared File System Master Slave</span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">æœ¬æ¬¡æµ‹è¯•åœ¨åŒä¸€å°æœºå™¨ä¸Šï¼š<br style="line-height:10px"><br>é¦–å…ˆæ›´æ”¹é…ç½®conf/activemq,åšå¦‚ä¸‹ä¿®æ”¹ï¼š<br style="line-height:10px"><br></span></span></span></p><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)">&lt;persistenceAdapter&gt;<br>        &lt;!â€“&lt;kahaDB directory=&quot;${activemq.data}/kahadb&quot;/&gt;â€“&gt;<br>    &lt;kahaDB directory=&quot;D:/kahaDB&quot;/&gt;<br> &lt;/persistenceAdapter&gt;</pre><br><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">å°†activemqæ‹·è´3ä»½ï¼Œåˆ†åˆ«ï¼šapache-activemq-5.10.0-M1ï¼Œ&nbsp;</span><span style="line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px">apache-activemq-5.10.0-M2ï¼Œ<span style="line-height:25.2px">apache-activemq-5.10.0-M3</span></span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">ï¼Œåˆ†åˆ«å¯åŠ¨activemqå‘½ä»¤ï¼Œå¯åŠ¨çš„æ—¥å¿—åˆ†åˆ«æ˜¯:&nbsp;</span><br style="line-height:10px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><img alt="" src="http://static.open-open.com/lib/uploadImg/20160102/20160102210319_3.png" width="644" height="69" style="border:0px; vertical-align:middle; max-width:100%; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px"><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px"></span><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">è¡¨ç¤ºå½“å‰è¿›ç¨‹æ˜¯Master<br style="line-height:10px"><br><br style="line-height:10px"><br><img alt="" src="http://static.open-open.com/lib/uploadImg/20160102/20160102210319_893.png" width="643" height="72" style="border:0px; vertical-align:middle; max-width:100%"><br style="line-height:10px"><br></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">è¡¨ç¤ºå½“å‰è¿›ç¨‹æ²¡æœ‰è·å–åˆ°é”ï¼Œä½œä¸ºSlaver<br style="line-height:10px"><br></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">æµ‹è¯•ï¼š</span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">ä¸‹é¢çš„ä¾‹å­ä¸­åˆ†åˆ«æä¾›äº†<span style="line-height:25.2px; color:rgb(76,51,229)">Producer<span style="line-height:25.2px; color:rgb(0,0,0)">(Senderç±»)</span></span>å’Œ<span style="line-height:25.2px; color:rgb(76,51,229)">Consumer<span style="line-height:25.2px; color:rgb(0,0,0)">(Receiverç±»)<br style="line-height:10px"><br>æˆ‘ä»¬é¦–å…ˆç”¨Producerå‘é€æ¶ˆæ¯ç»™activemqï¼Œç„¶ååœæ­¢Masterï¼Œç„¶åå†ç”¨Consumeræ¥å—æ¶ˆæ¯ï¼Œæµ‹è¯•ç»“æœæ˜¯å¯ä»¥æ¥å—åˆ°æ•°æ®çš„ã€‚</span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">2ï¼‰.<span style="line-height:25.2px; color:rgb(76,51,229)">JDBC Master Slave</span><span style="line-height:25.2px; color:rgb(76,51,229)"><br style="line-height:10px"><br><span style="line-height:25.2px; color:rgb(0,0,0)">JDBC Master Slaveæ¨¡å¼å’ŒShared File Sysytem Master Slaveæ¨¡å¼çš„åŸç†æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯æŠŠå…±äº«æ–‡ä»¶ç³»ç»Ÿæ¢æˆäº†å…±äº«æ•°æ®åº“ã€‚</span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">ä¿®æ”¹é…ç½®æ–‡ä»¶conf/activemq<br style="line-height:10px"><br></span></span></span></span></span></p><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)"><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_10_9093290" name="code" class="html">&lt;persistenceAdapter&gt;<br>        &lt;!â€“&lt;kahaDB directory=&quot;${activemq.data}/kahadb&quot;/&gt;â€“&gt;<br>    &lt;!â€“&lt;kahaDB directory=&quot;D:/kahaDB&quot;/&gt;â€“&gt;<br>        &lt;jdbcPersistenceAdapter dataDirectory=&quot;${activemq.base}/data&quot; dataSource=&quot;#mysql-ds&quot;/&gt;<br>  &lt;/persistenceAdapter&gt;</pre><br><br></pre><br><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">æ·»åŠ æ•°æ®æºï¼š</span><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)"><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_11_1808506" name="code" class="html">&lt;bean id=&quot;mysql-ds&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;<br>    &lt;property name=&quot;driverClassName&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;<br>    &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost/activemq?relaxAutoCommit=true&quot;/&gt;<br>    &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;<br>    &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;<br>    &lt;property name=&quot;poolPreparedStatements&quot; value=&quot;true&quot;/&gt;<br>    &lt;/bean&gt;</pre><br><br></pre><br><span style="line-height:25.2px; font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; color:rgb(229,51,51)">æ³¨ï¼šè¿™é‡Œä½¿ç”¨çš„æ˜¯mysqlï¼Œæ‰€ä»¥éœ€è¦mysqlé©±åŠ¨ç¨‹åºï¼š</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">&nbsp;</span><span style="line-height:25.2px; font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; color:rgb(229,51,51)">mysql-connector-java-5.1.18ï¼Œè®²jaråŒ…æ”¾å…¥libæ–‡ä»¶å¤¹ä¸‹é¢ï¼Œé©±åŠ¨ç‰ˆæœ¬ä¸å¯¹ï¼Œä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯:</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">&nbsp;</span><span style="line-height:25.2px; font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; color:rgb(229,51,51)">Database<br> lock driver override not found for : [mysql_connect</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">&nbsp;</span><span style="line-height:25.2px; font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; color:rgb(229,51,51)">â€¦</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px"></span><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><br style="line-height:10px"><br></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5">åˆ†åˆ«æ‹·è´åˆ°å…¶ä»–å‡ ä¸ªæ–‡ä»¶å¤¹ä¸‹ï¼Œåˆ†åˆ«å¯åŠ¨ï¼Œå¯åŠ¨æˆåŠŸåæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ•°æ®åº“ä¸­å¤šäº†å‡ å¼ è¡¨ï¼š</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><img alt="" src="http://static.open-open.com/lib/uploadImg/20160102/20160102210319_95.png" width="318" height="148" style="border:0px; vertical-align:middle; max-width:100%"><br style="line-height:10px"><br></span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">æµ‹è¯•æ–¹å¼åŒä¸Šï¼›<br style="line-height:10px"><br>å®˜ç½‘æ‰‹å†Œ:<a target="_blank" href="http://activemq.apache.org/jdbc-master-slave.html" rel="nofollow" style="color:rgb(0,95,169); text-decoration:none; background-color:transparent">http://activemq.apache.org/jdbc-master-slave.html</a></span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">3).<span style="line-height:25.2px; color:rgb(76,51,229)">Replicated<br> LevelDB Store</span><br style="line-height:10px"><br><span style="line-height:25px; color:rgb(64,64,64); background-color:rgb(250,250,250)">è¿™ç§æ–¹å¼æ˜¯</span><span style="line-height:25px; font-family:Calibri; color:rgb(64,64,64); background-color:rgb(250,250,250)">ActiveMQ5.9</span><span style="line-height:25px; color:rgb(64,64,64); background-color:rgb(250,250,250)">ä»¥åæ‰æ–°å¢çš„ç‰¹æ€§ï¼Œä½¿ç”¨</span><span style="line-height:25px; font-family:Calibri; color:rgb(64,64,64); background-color:rgb(250,250,250)">ZooKeeper</span><span style="line-height:25px; color:rgb(64,64,64); background-color:rgb(250,250,250)">åè°ƒé€‰æ‹©ä¸€ä¸ª</span><span style="line-height:25px; font-family:Calibri; color:rgb(64,64,64); background-color:rgb(250,250,250)">node</span><span style="line-height:25px; color:rgb(64,64,64); background-color:rgb(250,250,250)">ä½œä¸º</span><span style="line-height:25px; font-family:Calibri; color:rgb(64,64,64); background-color:rgb(250,250,250)">master</span></span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px">ä¿®æ”¹é…ç½®æ–‡ä»¶conf/activemqï¼š<br style="line-height:10px"><br></span></span></span></span></span></span></p><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)"><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_12_5047109" name="code" class="html">&lt;!â€“&lt;persistenceAdapter&gt;<br>         &lt;kahaDB directory=&quot;${activemq.data}/kahadb&quot;/&gt;<br>         &lt;kahaDB directory=&quot;D:/kahaDB&quot;/&gt;<br>         &lt;jdbcPersistenceAdapter dataDirectory=&quot;${activemq.base}/data&quot; dataSource=&quot;#mysql-ds&quot;/&gt;<br> &lt;/persistenceAdapter&gt;â€“&gt;<br> &lt;persistenceAdapter&gt;<br>    &lt;replicatedLevelDB<br>        directory=&quot;${activemq.data}/leveldb&quot;<br>        replicas=&quot;3&quot;<br>        bind=&quot;tcp://0.0.0.0:0&quot;<br>        zkAddress=&quot;127.0.0.1:2181&quot;<br>        hostname=&quot;127.0.0.1&quot;<br>        sync=&quot;local_disk&quot;<br>        zkPath=&quot;/activemq/leveldb-stores&quot;/&gt;<br> &lt;/persistenceAdapter&gt;</pre><br><br></pre><br><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">é¦–å…ˆå¯åŠ¨zookeeperï¼Œè¿™é‡Œæ²¡æœ‰åšé›†ç¾¤å¤„ç†,é»˜è®¤ç«¯å£æ˜¯2181ï¼Œç„¶ååˆ†åˆ«å¯åŠ¨activemqï¼Œ&nbsp;</span><br style="line-height:10px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px; font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; color:rgb(229,51,51)">å¯åŠ¨ä¹‹åæŠ¥é”™ï¼š&quot;activemq LevelDB IOException handler&quot;ã€‚</span><span style="color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px; line-height:25.2px">&nbsp;</span><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)"><span style="line-height:25.2px; color:rgb(229,51,51)"><span style="line-height:22px; font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; color:rgb(51,51,51)">åŸå› ï¼šç‰ˆæœ¬5.10.0å­˜åœ¨çš„ä¾èµ–å†²çªã€‚</span><br style="line-height:10px"><br></span></span></span></span></span></span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(51,51,51); font-size:14px; font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="line-height:28.8px; font-size:16px"><span style="line-height:25.2px; font-size:14px">è§£å†³æ–¹æ¡ˆï¼š<br style="line-height:10px"><br></span></span><span style="line-height:1.5">ï¼ˆ1ï¼‰ç§»é™¤libç›®å½•ä¸­çš„pax-url-aether-1.5.2.jaråŒ…<br style="line-height:10px"><br></span><span style="line-height:28.8px; font-size:16px"><span style="line-height:25.2px; font-size:14px">ï¼ˆ2ï¼‰æ³¨é‡Šæ‰é…ç½®æ–‡ä»¶ä¸­çš„æ—¥å¿—é…ç½®ï¼›</span></span><span style="line-height:25.2px">&nbsp;</span></p><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)">&lt;!â€“ Allows accessing the server log<br>    &lt;bean id=&quot;logQuery&quot; class=&quot;org.fusesource.insight.log.log4j.Log4jLogQuery&quot;<br>          lazy-init=&quot;false&quot; scope=&quot;singleton&quot;<br>          init-method=&quot;start&quot; destroy-method=&quot;stop&quot;&gt;<br>    &lt;/bean&gt;<br>â€“&gt;</pre><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:25.2px">æµ‹è¯•æ–¹å¼åŒä¸Šï¼›</span></p><br><p style="margin-top:10px; margin-bottom:10px; line-height:25.2px; color:rgb(64,64,64); font-family:'Microsoft YaHei',Verdana,sans-serif,SimSun; font-size:14px"><br><span style="line-height:1.5"><span style="line-height:25.2px; color:rgb(76,51,229)"><span style="line-height:25.2px; color:rgb(0,0,0)">æä¾›javaç‰ˆçš„ä¾‹å­ï¼š<br style="line-height:10px"><br></span></span></span></p><br><pre class="brush:java; toolbar: true; auto-links: false;" style="overflow:auto; font-family:Menlo,Monaco,Consolas,'Courier New',monospace; padding:6px; margin-top:0px; margin-bottom:10px; line-height:1.45; color:rgb(51,51,51); word-break:break-all; word-wrap:break-word; border:none; background-color:rgb(246,246,246)"><pre code_snippet_id="1660918" snippet_file_name="blog_20160425_13_2397151" name="code" class="java">public class Sender {<br>    private static final int SEND_NUMBER = 5;<br><br>    public static void main(String[] args) {<br>        ConnectionFactory connectionFactory;<br>        Connection connection = null;<br>        Session session;<br>        Destination destination;<br>        MessageProducer producer;<br>        connectionFactory = new ActiveMQConnectionFactory(<br>            ActiveMQConnection.DEFAULT_USER,<br>            ActiveMQConnection.DEFAULT_PASSWORD, &quot;tcp://localhost:61616&quot;);<br>        try {<br>            connection = connectionFactory.createConnection();<br>            connection.start();<br>            session = connection.createSession(Boolean.TRUE,<br>                    Session.AUTO_ACKNOWLEDGE);<br>            destination = session.createQueue(&quot;FirstQueue&quot;);<br>            producer = session.createProducer(destination);<br>            producer.setDeliveryMode(DeliveryMode.PERSISTENT);<br>            sendMessage(session, producer);<br>            session.commit();<br>        } catch (Exception e) {<br>            e.printStackTrace();<br>        } finally {<br>            try {<br>                if (null != connection)<br>                    connection.close();<br>            } catch (Throwable ignore) {<br>            }<br>        }<br>    }<br><br>    public static void sendMessage(Session session, MessageProducer producer)<br>            throws Exception {<br>        for (int i = 1; i &lt;= SEND_NUMBER; i++) {<br>            TextMessage message = session.createTextMessage(&quot;å‘é€çš„æ¶ˆæ¯&quot;<br>                    + i);<br>            System.out.println(&quot;å‘é€æ¶ˆæ¯ï¼š&quot; + &quot;ActiveMq å‘é€çš„æ¶ˆæ¯&quot; + i);<br>            producer.send(message);<br>        }<br>    }<br>}<br>public class Receiver {<br>    public static void main(String[] args) {<br>        ConnectionFactory connectionFactory;<br>        Connection connection = null;<br>        Session session;<br>        Destination destination;<br>        MessageConsumer consumer;<br>        connectionFactory = new ActiveMQConnectionFactory(<br>            ActiveMQConnection.DEFAULT_USER,<br>            ActiveMQConnection.DEFAULT_PASSWORD, &quot;tcp://localhost:61616&quot;);<br>        try {<br>            connection = connectionFactory.createConnection();<br>            connection.start();<br>            session = connection.createSession(Boolean.FALSE,<br>                    Session.AUTO_ACKNOWLEDGE);<br>            destination = session.createQueue(&quot;FirstQueue&quot;);<br>            consumer = session.createConsumer(destination);<br>            while (true) {<br>                TextMessage message = (TextMessage) consumer.receive(100000);<br>                if (null != message) {<br>                    System.out.println(&quot;æ”¶åˆ°æ¶ˆæ¯&quot; + message.getText());<br>                } else {<br>                    break;<br>                }<br>            }<br>        } catch (Exception e) {<br>            e.printStackTrace();<br>        } finally {<br>            try {<br>                if (null != connection)<br>                    connection.close();<br>            } catch (Throwable ignore) {<br>            }<br>        }<br>    }<br>}</pre><br><br></pre><br><h1 style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><br><br><h1><span style="padding:0px; margin:0px; color:rgb(76,51,229)">5.Broker-Clusterå®ç°è´Ÿè½½å‡è¡¡</span></h1><br></h1><br></div><br><div><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px; font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:24.05px">Broker-Clusteréƒ¨ç½²æ–¹å¼ä¸­ï¼Œå„ä¸ªbrokeré€šè¿‡ç½‘ç»œäº’ç›¸è¿æ¥ï¼Œå¹¶å…±äº«queueï¼Œæä¾›äº†2ä¸­éƒ¨ç½²æ–¹å¼ï¼š<br style="padding:0px; margin:0px"><br><span style="padding:0px; margin:0px; color:rgb(76,51,229)">static Broker-Cluster</span><span style="padding:0px; margin:0px; color:rgb(76,51,229)"></span>å’Œ<span style="padding:0px; margin:0px; color:rgb(76,51,229)">Dynamic Broker-Cluster</span><span style="padding:0px; margin:0px; color:rgb(76,51,229)"></span></span></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px; color:rgb(76,51,229)">1).static Broker-Cluster</span></span></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px">å°†ActiveMqæ‹·è´2ä»½ï¼Œåˆ†åˆ«å‘½å:apache-activemq-5.10.0_M1,apache-activemq-5.10.0_M2ï¼Œ<br style="padding:0px; margin:0px"><br>ä¸‹é¢å°±æ˜¯é…ç½®activemq,xml:<br style="padding:0px; margin:0px"><br>M1åšå¦‚ä¸‹é…ç½®:<br style="padding:0px; margin:0px"><br></span></span></p><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_483577" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:704px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:675px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnector<br> uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;static:(tcp://localhost:61617)&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/networkConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_774067" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:1024px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:995px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnector<br> name=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;openwire&quot;</code><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br>uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;tcp://0.0.0.0:61616?maximumConnectio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> ns=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/transportConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:24.05px">M2åšå¦‚ä¸‹é…ç½®:</span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px">&nbsp;</span><br style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_592019" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:704px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:675px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnector<br> uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;static:(tcp://localhost:61616)&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/networkConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_351396" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:1024px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:995px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnector<br> name=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;openwire&quot;</code><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br>uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;tcp://0.0.0.0:61617?maximumConnectio&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br> ns=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/transportConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px">é€šè¿‡ä»¥ä¸Šé…ç½®ä½¿M1å’ŒM2è¿™ä¸¤ä¸ª&nbsp;</span><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:24.05px">brokeré€šè¿‡ç½‘ç»œäº’ç›¸è¿æ¥ï¼Œå¹¶å…±äº«queueï¼Œ<br style="padding:0px; margin:0px"><br>å¯åŠ¨M1å’ŒM2,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å¯åŠ¨æ—¥å¿—ï¼š</span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px">&nbsp;</span><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-size:13px; line-height:24.05px; font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif"><br style="padding:0px; margin:0px"><br><a target="_blank" href="http://static.oschina.net/uploads/space/2016/0103/194536_ySvR_159239.png" style="padding:0px; margin:0px; color:rgb(255,131,115); outline:0px; font-size:12px"><img src="http://static.oschina.net/uploads/space/2016/0103/194536_ySvR_159239.png" alt="" style="padding:0px; margin:10px 0px; border:1px solid rgb(221,221,221); max-width:640px; background:rgb(244,247,249)"></a><br style="padding:0px; margin:0px"><br></span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"></span><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px"><a target="_blank" href="http://static.oschina.net/uploads/space/2016/0103/194609_AlHc_159239.png" style="padding:0px; margin:0px; color:rgb(255,131,115); outline:0px; font-size:12px"><img src="http://static.oschina.net/uploads/space/2016/0103/194609_AlHc_159239.png" alt="" style="padding:0px; margin:10px 0px; border:1px solid rgb(221,221,221); max-width:640px; background:rgb(244,247,249)"></a><br style="padding:0px; margin:0px"><br></span></span></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px">å¯ä»¥çœ‹åˆ°M1å’ŒM2ï¼Œ<span style="padding:0px; margin:0px; color:rgb(76,51,229)">network connection has been established</span></span></span></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px"><span style="padding:0px; margin:0px; color:rgb(76,51,229)"><span style="padding:0px; margin:0px; color:rgb(0,0,0)">æµ‹è¯•æˆ‘ä»¬è¿˜æ˜¯ç”¨ä¸Šä¸€ç¯‡ä¸­çš„Senderå’ŒReceiverç±»ï¼Œåªéœ€è¦åšä¸€ç‚¹ç‚¹ä¿®æ”¹ï¼š<br style="padding:0px; margin:0px"><br></span><span style="padding:0px; margin:0px; color:rgb(0,0,0)">Senderç±»è¿˜æ˜¯é“¾æ¥tcp://localhost:61616ï¼Œå‘é€æ¶ˆæ¯åˆ°queueï¼Œ<br style="padding:0px; margin:0px"><br>Receiveråšå¦‚ä¸‹ä¿®æ”¹:<br style="padding:0px; margin:0px"><br></span></span></span></span></p><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_256279" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:704px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:675px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">connectionFactory<br> = </code><code class="java keyword" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:rgb(0,102,153)!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-weight:bold!important; font-size:1em!important; min-height:auto!important; background:none!important">new</code><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br>ActiveMQConnectionFactory(</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">ActiveMQConnection.DEFAULT_USER,</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">ActiveMQConnection.DEFAULT_PASSWORD,<br></code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;tcp://localhost:61617&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">);</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br>ç»æµ‹è¯•Receiverå¯ä»¥æ¥å—åˆ°æ•°æ®ï¼Œè¡¨ç¤ºM1å’ŒM2å·²ç»å…±äº«äº†queue</p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px"><span style="padding:0px; margin:0px; color:rgb(76,51,229)">2).<span style="padding:0px; margin:0px; font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; line-height:24.05px">Dynamic<br> Broker-Cluster</span></span></span></span></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br><span style="padding:0px; margin:0px"><span style="padding:0px; margin:0px; font-size:13px; line-height:24.05px"><span style="padding:0px; margin:0px; color:rgb(76,51,229)"><span style="padding:0px; margin:0px; font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; line-height:24.05px"><span style="padding:0px; margin:0px; color:rgb(0,0,0)">Dynamic<br> Discoveryé›†ç¾¤æ–¹å¼åœ¨é…ç½®ActiveMQå®ä¾‹æ—¶ï¼Œä¸éœ€è¦çŸ¥é“æ‰€æœ‰å…¶å®ƒå®ä¾‹çš„URIåœ°å€</span><span style="padding:0px; margin:0px; color:rgb(0,0,0)"><br style="padding:0px; margin:0px"><br></span><span style="padding:0px; margin:0px; color:rgb(0,0,0)">å¯¹activemq.xmlåšå¦‚ä¸‹é…ç½®:<br style="padding:0px; margin:0px"><br><span style="padding:0px; margin:0px; line-height:24.05px">M1åšå¦‚ä¸‹é…ç½®:<br style="padding:0px; margin:0px"><br></span></span></span></span></span></span></p><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_464186" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:704px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:675px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnector<br> uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;multicast://default&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/networkConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_579267" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:962px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br><div class="line number4 index3 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>4</div><br></td><br><td class="code" style="width:933px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnector<br> name=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;openwire&quot;</code><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br>uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;tcp://0.0.0.0:61616?<br> maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">discoveryUri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;multicast://default&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number4 index3 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/transportConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:24.05px">M2<span style="padding:0px; margin:0px; line-height:24.05px">åšå¦‚ä¸‹é…ç½®:</span></span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"></span><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_377292" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:704px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br></td><br><td class="code" style="width:675px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;networkConnector<br> uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;multicast://default&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/networkConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><div style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"><br><div id="highlighter_494719" class="syntaxhighlighter  java" style="padding:0px; width:704px; margin:1em 0px!important; position:relative!important; overflow:auto!important; font-size:1em!important"><br><div class="toolbar" style="padding:0px!important; margin:0px!important; border:none!important; bottom:auto!important; float:none!important; height:11px!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:absolute!important; right:1px!important; top:1px!important; vertical-align:baseline!important; width:11px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:10px!important; min-height:auto!important; z-index:10!important; color:white!important; background:rgb(108,226,108)!important"><br><span style="padding:0px; margin:0px"><a target="_blank" href="http://my.oschina.net/OutOfMemory/blog/596552#" class="toolbar_item command_help help" style="padding:1px 0px 0px!important; margin:0px!important; color:white!important; outline:0px!important; font-size:1em!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; overflow:visible!important; position:static!important; right:auto!important; text-align:center!important; top:auto!important; vertical-align:baseline!important; width:auto!important; min-height:auto!important; display:block!important; text-decoration:none!important; background:none!important">?</a></span></div><br><table border="0" cellpadding="0" cellspacing="0" style="width:962px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tbody style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><tr style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><td class="gutter" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; font-size:1em!important; min-height:auto!important; color:rgb(175,175,175)!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>1</div><br><div class="line number2 index1 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>2</div><br><div class="line number3 index2 alt2" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>3</div><br><div class="line number4 index3 alt1" style="padding:0px 0.5em 0px 1em!important; margin:0px!important; border-width:0px 3px 0px 0px!important; border-right-style:solid!important; border-right-color:rgb(108,226,108)!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; text-align:right!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br>4</div><br></td><br><td class="code" style="width:933px; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="container" style="padding:0px!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:relative!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br><div class="line number1 index0 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnectors&gt;</code></div><br><div class="line number2 index1 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;transportConnector<br> name=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;openwire&quot;</code><br><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important"><br>uri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;tcp://0.0.0.0:61617?<br> maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;</code></div><br><div class="line number3 index2 alt2" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">discoveryUri=</code><code class="java string" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; color:blue!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&quot;multicast://default&quot;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">/&gt;</code></div><br><div class="line number4 index3 alt1" style="padding:0px 1em!important; margin:0px!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; white-space:pre!important"><br><code class="java spaces" style="color:red; padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&nbsp;</code><code class="java plain" style="padding:0px!important; margin:0px!important; font-family:Consolas,'Bitstream Vera Sans Mono','Courier New',Courier,monospace!important; border:0px!important; bottom:auto!important; float:none!important; height:auto!important; left:auto!important; line-height:1.1em!important; outline:0px!important; overflow:visible!important; position:static!important; right:auto!important; top:auto!important; vertical-align:baseline!important; width:auto!important; font-size:1em!important; min-height:auto!important; background:none!important">&lt;/transportConnectors&gt;</code></div><br></div><br></td><br></tr><br></tbody><br></table><br></div><br></div><br><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',å¾®è½¯é›…é»‘,Arial,'Lucida Grande',Tahoma,sans-serif; font-size:13px; line-height:24.05px">å¯åŠ¨M1å’ŒM2,å¯ä»¥çœ‹åˆ°å¦‚ä¸‹å¯åŠ¨æ—¥å¿—ï¼š</span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px">&nbsp;</span><span style="padding:0px; margin:0px; font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; color:rgb(76,51,229); font-size:13px; line-height:24.05px">network<br> connection has been established</span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"></span><span style="padding:0px; margin:0px; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"></span><span style="color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“; font-size:12.5px; line-height:22.5px"></span><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br>æµ‹è¯•åŒstatic broker-cluster,å¯ä»¥å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚<br style="padding:0px; margin:0px"><br>å®˜ç½‘é…ç½®è¯´æ˜ï¼š<a target="_blank" href="http://activemq.apache.org/networks-of-brokers.html" rel="nofollow" style="padding:0px; margin:0px; color:rgb(255,131,115); outline:0px; font-size:12px">http://activemq.apache.org/networks-of-brokers.html</a></p><br><p style="padding-top:0px; padding-bottom:0px; margin-top:8px; margin-bottom:8px; line-height:22.5px; letter-spacing:0.5px; font-size:12.5px; word-wrap:break-word; word-break:break-all; color:rgb(51,51,51); font-family:'Microsoft YaHei',Verdana,sans-serif,å®‹ä½“"><br>Master-Slaverä¿è¯äº†æ•°æ®çš„å¯é æ€§ï¼ŒBroker-Clusteræä¾›äº†è´Ÿè½½å‡è¡¡ï¼Œæ‰€ä»¥ä¸€èˆ¬æ­£å¼ç¯å¢ƒä¸­éƒ½ä¼šé‡‡ç”¨ï¼š<br style="padding:0px; margin:0px"><br><span style="padding:0px; margin:0px">Master-Slaver&#43;</span><span style="padding:0px; margin:0px">Broker-Clusterçš„æ¨¡å¼</span></p><br><br><br></div>

<p></p></div><p></p>
<!-- Baidu Button BEGIN -->
<div class="bdsharebuttonbox tracking-ad" style="float: right;" data-mod="popu_172"><br><a href="#" class="bds_more" data-cmd="more" style="background-position:0 0 !important; background-image: url(http://bdimg.share.baidu.com/static/api/img/share/icons_0_16.png?v=d754dcc0.png) !important"></a><br><a href="#" class="bds_qzone" data-cmd="qzone" title="åˆ†äº«åˆ°QQç©ºé—´" style="background-position:0 -52px !important"></a><br><a href="#" class="bds_tsina" data-cmd="tsina" title="åˆ†äº«åˆ°æ–°æµªå¾®åš" style="background-position:0 -104px !important"></a><br><a href="#" class="bds_tqq" data-cmd="tqq" title="åˆ†äº«åˆ°è…¾è®¯å¾®åš" style="background-position:0 -260px !important"></a><br><a href="#" class="bds_renren" data-cmd="renren" title="åˆ†äº«åˆ°äººäººç½‘" style="background-position:0 -208px !important"></a><br><a href="#" class="bds_weixin" data-cmd="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡" style="background-position:0 -1612px !important"></a><br></div><br><script>window._bd_share_config = { â€œcommonâ€: { â€œbdSnsKeyâ€: {}, â€œbdTextâ€: â€œâ€, â€œbdMiniâ€: â€œ1â€, â€œbdMiniListâ€: false, â€œbdPicâ€: â€œâ€, â€œbdStyleâ€: â€œ0â€, â€œbdSizeâ€: â€œ16â€ }, â€œshareâ€: {} }; with (document) 0[(getElementsByTagName(â€˜headâ€™)[0] || body).appendChild(createElement(â€˜scriptâ€™)).src = â€˜<a href="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=">http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion=</a>â€˜ + ~(-new Date() / 36e5)];</script><br><!-- Baidu Button END --><br><br><br><br><br><!--172.16.140.12--><br><br><!-- Baidu Button BEGIN --><br><script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=1536434"></script><br><script type="text/javascript" id="bdshell_js"></script><br><script type="text/javascript"><br>    document.getElementById(â€œbdshell_jsâ€).src = â€œ<a href="http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=">http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=</a>â€œ + Math.ceil(new Date()/3600000)<br></script><br><!-- Baidu Button END --><br><br><br><br><br><br><br>        <div id="digg" articleid="51241597"><br>            <dl id="btnDigg" class="digg digg_disable" onclick="btndigga();"><br><br>                 <dt>é¡¶</dt><br>                <dd>3</dd><br>            </dl><br><br><br>            <dl id="btnBury" class="digg digg_disable" onclick="btnburya();"><br><br>                  <dt>è¸©</dt><br>                <dd>0</dd><br>            </dl><br><br>        </div><br>     <div class="tracking-ad" data-mod="popu_222"><a href="javascript:void(0);" target="_blank" rel="external">&nbsp;</a>   </div><br>    <div class="tracking-ad" data-mod="popu_223"> <a href="javascript:void(0);" target="_blank" rel="external">&nbsp;</a></div><br>    <script type="text/javascript"><br>                function btndigga() {<br>                    $(â€œ.tracking-ad[data-mod=â€™popu_222â€™] aâ€).click();<br>                }<br>                function btnburya() {<br>                    $(â€œ.tracking-ad[data-mod=â€™popu_223â€™] aâ€).click();<br>                }<br>            </script><br><br>   <ul class="article_next_prev"><br>                <li class="prev_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian']);location.href='/he90227/article/details/51163822';">ä¸Šä¸€ç¯‡</span><a href="/he90227/article/details/51163822" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_shangyipian'])">å¤šçº¿ç¨‹ç¬”è®°</a></li><br>                <li class="next_article"><span onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian']);location.href='/he90227/article/details/51248063';">ä¸‹ä¸€ç¯‡</span><a href="/he90227/article/details/51248063" onclick="_gaq.push(['_trackEvent','function', 'onclick', 'blog_articles_xiayipian'])">äº¿çº§Webç³»ç»Ÿæ­å»ºâ€”â€”å•æœºåˆ°åˆ†å¸ƒå¼é›†ç¾¤</a></li><br>    </ul><br><br>    <div style="clear:both; height:10px;"></div>


<pre><code>&lt;div class=&quot;similar_article&quot;   &gt;
        &lt;h4&gt;&lt;/h4&gt;
        &lt;div class=&quot;similar_c&quot;style=&quot;margin:20px 0px 0px 0px&quot;&gt;
            &lt;div class=&quot;similar_c_t&quot;&gt;
              &amp;nbsp;&amp;nbsp;ç›¸å…³æ–‡ç« æ¨è
            &lt;/div&gt;

            &lt;div class=&quot;similar_wrap tracking-ad&quot; data-mod=&quot;popu_36&quot;  style=&quot;max-height:195px;&quot;&gt;                       
                &lt;ul class=&quot;similar_list fl&quot;&gt;    
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/lee1991723/article/details/48268861&quot; title=&quot;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/zwk626542417/article/details/48063383&quot; title=&quot;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/u010961759/article/details/39293649&quot; title=&quot;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;Springæ•´åˆJMS(ä¸€)â€”â€”åŸºäºActiveMQå®ç°&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/lingyun870801/article/details/23991513&quot; title=&quot;ActiveMQæ•´åˆSpringå®ç°æ¶ˆæ¯æœºåˆ¶äºŒ(æ¶ˆæ¯æ¥æ”¶ç«¯é…ç½®)&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;ActiveMQæ•´åˆSpringå®ç°æ¶ˆæ¯æœºåˆ¶äºŒ(æ¶ˆæ¯æ¥æ”¶ç«¯é…ç½®)&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/u014756827/article/details/52449232&quot; title=&quot;æ·±å…¥æµ…å‡ºJMS(å››)--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;æ·±å…¥æµ…å‡ºJMS(å››)--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&lt;/a&gt;
                       &lt;/li&gt;
                &lt;/ul&gt;
                  &lt;ul class=&quot;similar_list fr&quot;&gt;      
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/jianfpeng241241/article/details/51678695&quot; title=&quot;JMSå­¦ä¹ (4):--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;JMSå­¦ä¹ (4):--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/jingqiang521/article/details/49047847&quot; title=&quot;4ã€æ·±å…¥æµ…å‡ºJMS(å››)--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;4ã€æ·±å…¥æµ…å‡ºJMS(å››)--Springå’ŒActiveMQæ•´åˆçš„å®Œæ•´å®ä¾‹&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/Leonardo9029/article/details/43154385&quot; title=&quot;æµ…è°ˆjmsä¹‹ï¼ˆé€šè¿‡springæ•´åˆactiveMQå®ç°jmsï¼‰å®ä¾‹&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;æµ…è°ˆjmsä¹‹ï¼ˆé€šè¿‡springæ•´åˆactiveMQå®ç°jmsï¼‰å®ä¾‹&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/yinbucheng/article/details/72477543&quot; title=&quot;springæ•´åˆactiveMQ&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;springæ•´åˆactiveMQ&lt;/a&gt;
                       &lt;/li&gt;
                       &lt;li&gt;
                           &lt;em&gt;â€¢&lt;/em&gt;
                           &lt;a href=&quot;http://blog.csdn.net/polo_longsan/article/details/52317966&quot; title=&quot;ActiveMQä¸Springæ•´åˆ:(1)åŸºæœ¬ä½¿ç”¨&quot; strategy=&quot;&quot; target=&quot;_blank&quot; style=&quot;width: 290px;&quot;&gt;ActiveMQä¸Springæ•´åˆ:(1)åŸºæœ¬ä½¿ç”¨&lt;/a&gt;
                       &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;   
</code></pre><p></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="https://bloodorange2017.github.io/archives/2017/06/13/disruptor-01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="XueCheng">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="https://bloodorange2017.github.io/images/img_head_001.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="XueCheng Notes">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/13/disruptor-01/" itemprop="url">Disruptorå…¥é—¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-13T16:23:09+08:00">
                2017-06-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div class="post_content"><br>      <p>ç¿»è¯‘è‡ªDisruptor gitåº“æ•™ç¨‹   <a href="https://github.com/LMAX-Exchange/disruptor/wiki/Getting-Started" target="_blank">è‹±æ–‡åœ°å€</a></p><br><h2>è·å¾—Disruptor</h2><br><p>å¯ä»¥é€šè¿‡<a href="http://mvnrepository.com/artifact/com.lmax/disruptor" target="_blank" rel="external">Maven</a>æˆ–è€…ä¸‹è½½<a href="https://github.com/LMAX-Exchange/disruptor/wiki/Downloads" target="_blank" rel="external">jar</a>æ¥å®‰è£…Disruptorã€‚åªè¦æŠŠå¯¹åº”çš„jaræ”¾åœ¨Java classpathå°±å¯ä»¥äº†ã€‚</p><br><h2>åŸºæœ¬çš„äº‹ä»¶ç”Ÿäº§å’Œæ¶ˆè´¹</h2><br><p>æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„ä¾‹å­å¼€å§‹å­¦ä¹ Disruptorï¼šç”Ÿäº§è€…ä¼ é€’ä¸€ä¸ªlongç±»å‹çš„å€¼ç»™æ¶ˆè´¹è€…ï¼Œè€Œæ¶ˆè´¹è€…æ¶ˆè´¹è¿™ä¸ªæ•°æ®çš„æ–¹å¼ä»…ä»…æ˜¯æŠŠå®ƒæ‰“å°å‡ºæ¥ã€‚é¦–å…ˆå£°æ˜ä¸€ä¸ªEventæ¥åŒ…å«éœ€è¦ä¼ é€’çš„æ•°æ®ï¼š</p><br><pre style="color: #000000;"><span class="s2" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEvent {<br>    </span><span class="s2" style="color: #cc7832;">private long </span><span class="s1" style="color: #a9b7c6;">value</span><span class="s2" style="color: #cc7832;">;<br></span><span class="s2" style="color: #cc7832;">    public long </span><span class="s1" style="color: #a9b7c6;">getValue() {<br>        </span><span class="s2" style="color: #cc7832;">return </span><span class="s1" style="color: #a9b7c6;">value</span><span class="s2" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br><br>    </span><span class="s2" style="color: #cc7832;">public void </span><span class="s1" style="color: #a9b7c6;">setValue(</span><span class="s2" style="color: #cc7832;">long </span><span class="s1" style="color: #a9b7c6;">value) {<br>        </span><span class="s2" style="color: #cc7832;">this</span><span class="s1" style="color: #a9b7c6;">.value = value</span><span class="s2" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br>} </span></pre><br><p><span id="more-13560"></span></p><br><p>ç”±äºéœ€è¦è®©Disruptorä¸ºæˆ‘ä»¬åˆ›å»ºäº‹ä»¶ï¼Œæˆ‘ä»¬åŒæ—¶è¿˜å£°æ˜äº†ä¸€ä¸ªEventFactoryæ¥å®ä¾‹åŒ–Eventå¯¹è±¡ã€‚</p><br><pre><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventFactory </span><span class="s0" style="color: #cc7832;">implements </span><span class="s1" style="color: #a9b7c6;">EventFactory { </span></pre><br><pre style="color: #000000;"><span class="s1" style="color: #a9b7c6;">    @Override<br>    </span><span class="s0" style="color: #cc7832;">public </span><span class="s1" style="color: #a9b7c6;">Object newInstance() {<br>        </span><span class="s0" style="color: #cc7832;">return new </span><span class="s1" style="color: #a9b7c6;">LongEvent()</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br>} </span></pre><br><p>æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªäº‹ä»¶æ¶ˆè´¹è€…ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªäº‹ä»¶å¤„ç†å™¨ã€‚è¿™ä¸ªäº‹ä»¶å¤„ç†å™¨ç®€å•åœ°æŠŠäº‹ä»¶ä¸­å­˜å‚¨çš„æ•°æ®æ‰“å°åˆ°ç»ˆç«¯ï¼š</p><br><pre style="color: #000000;"><span class="s2" style="color: #629755;">/<strong><br> */</strong></span><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventHandler </span><span class="s0" style="color: #cc7832;">implements </span><span class="s1" style="color: #a9b7c6;">EventHandler&lt;LongEvent&gt; {<br>    @Override<br>    </span><span class="s0" style="color: #cc7832;">public void </span><span class="s1" style="color: #a9b7c6;">onEvent(LongEvent longEvent</span><span class="s0" style="color: #cc7832;">, long </span><span class="s1" style="color: #a9b7c6;">l</span><span class="s0" style="color: #cc7832;">, boolean </span><span class="s1" style="color: #a9b7c6;">b) </span><span class="s0" style="color: #cc7832;">throws </span><span class="s1" style="color: #a9b7c6;">Exception {<br>        System.out.println(longEvent.getValue())</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br>} </span></pre><br><p>äº‹ä»¶éƒ½ä¼šæœ‰ä¸€ä¸ªç”Ÿæˆäº‹ä»¶çš„æºï¼Œè¿™ä¸ªä¾‹å­ä¸­å‡è®¾äº‹ä»¶æ˜¯ç”±äºç£ç›˜IOæˆ–è€…networkè¯»å–æ•°æ®çš„æ—¶å€™è§¦å‘çš„ï¼Œäº‹ä»¶æºä½¿ç”¨ä¸€ä¸ªByteBufferæ¥æ¨¡æ‹Ÿå®ƒæ¥å—åˆ°çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œäº‹ä»¶æºä¼šåœ¨IOè¯»å–åˆ°ä¸€éƒ¨åˆ†æ•°æ®çš„æ—¶å€™è§¦å‘äº‹ä»¶ï¼ˆè§¦å‘äº‹ä»¶ä¸æ˜¯è‡ªåŠ¨çš„ï¼Œç¨‹åºå‘˜éœ€è¦åœ¨è¯»å–åˆ°æ•°æ®çš„æ—¶å€™è‡ªå·±è§¦å‘äº‹ä»¶å¹¶å‘å¸ƒï¼‰ï¼š</p><br><p>&nbsp;</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventProducer {<br>    </span><span class="s0" style="color: #cc7832;">private final </span><span class="s1" style="color: #a9b7c6;">RingBuffer&lt;LongEvent&gt; ringBuffer</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s0" style="color: #cc7832;">    public </span><span class="s1" style="color: #a9b7c6;">LongEventProducer(RingBuffer&lt;LongEvent&gt; ringBuffer) {<br>        </span><span class="s0" style="color: #cc7832;">this</span><span class="s1" style="color: #a9b7c6;">.ringBuffer = ringBuffer</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br><br>    </span><span class="s2" style="color: #629755;">/<br>     <em> onDataç”¨æ¥å‘å¸ƒäº‹ä»¶ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡å°±å‘å¸ƒä¸€æ¬¡äº‹ä»¶äº‹ä»¶ 
     </em> å®ƒçš„å‚æ•°ä¼šé€šè¿‡äº‹ä»¶ä¼ é€’ç»™æ¶ˆè´¹è€…<br>     <em> 
     </em> @param bb<br>     <em>/</em></span><span class="s0" style="color: #cc7832;">public void </span><span class="s1" style="color: #a9b7c6;">onData(ByteBuffer bb) {<br>            </span><span class="s3" style="color: #808080;">//å¯ä»¥æŠŠringBufferçœ‹åšä¸€ä¸ªäº‹ä»¶é˜Ÿåˆ—ï¼Œé‚£ä¹ˆnextå°±æ˜¯å¾—åˆ°ä¸‹é¢ä¸€ä¸ªäº‹ä»¶æ§½<br></span><span class="s0" style="color: #cc7832;">            long </span><span class="s1" style="color: #a9b7c6;">sequence = ringBuffer.next()</span><span class="s0" style="color: #cc7832;">;</span><span class="s0" style="color: #cc7832;">try </span><span class="s1" style="color: #a9b7c6;">{<br>            </span><span class="s3" style="color: #808080;">//ç”¨ä¸Šé¢çš„ç´¢å¼•å–å‡ºä¸€ä¸ªç©ºçš„äº‹ä»¶ç”¨äºå¡«å……</span><span class="s1" style="color: #a9b7c6;"><br>            LongEvent event = ringBuffer.get(sequence)</span><span class="s0" style="color: #cc7832;">;</span><span class="s3" style="color: #808080;">// for the sequence</span><span class="s1" style="color: #a9b7c6;"><br>            event.setValue(bb.getLong(</span><span class="s4" style="color: #6897bb;">0</span><span class="s1" style="color: #a9b7c6;">))</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>        } </span><span class="s0" style="color: #cc7832;">finally </span><span class="s1" style="color: #a9b7c6;">{<br>            </span><span class="s3" style="color: #808080;">//å‘å¸ƒäº‹ä»¶</span><span class="s1" style="color: #a9b7c6;"><br>            ringBuffer.publish(sequence)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>        }<br>    }<br>} </span></pre><br><p>å¾ˆæ˜æ˜¾çš„æ˜¯ï¼šå½“ç”¨ä¸€ä¸ªç®€å•é˜Ÿåˆ—æ¥å‘å¸ƒäº‹ä»¶çš„æ—¶å€™ä¼šç‰µæ¶‰æ›´å¤šçš„ç»†èŠ‚ï¼Œè¿™æ˜¯å› ä¸ºäº‹ä»¶å¯¹è±¡è¿˜éœ€è¦é¢„å…ˆåˆ›å»ºã€‚å‘å¸ƒäº‹ä»¶æœ€å°‘éœ€è¦ä¸¤æ­¥ï¼šè·å–ä¸‹ä¸€ä¸ªäº‹ä»¶æ§½å¹¶å‘å¸ƒäº‹ä»¶ï¼ˆå‘å¸ƒäº‹ä»¶çš„æ—¶å€™è¦ä½¿ç”¨try/finnallyä¿è¯äº‹ä»¶ä¸€å®šä¼šè¢«å‘å¸ƒï¼‰ã€‚å¦‚æœæˆ‘ä»¬ä½¿ç”¨RingBuffer.next()è·å–ä¸€ä¸ªäº‹ä»¶æ§½ï¼Œé‚£ä¹ˆä¸€å®šè¦å‘å¸ƒå¯¹åº”çš„äº‹ä»¶ã€‚å¦‚æœä¸èƒ½å‘å¸ƒäº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šå¼•èµ·DisruptorçŠ¶æ€çš„æ··ä¹±ã€‚å°¤å…¶æ˜¯åœ¨å¤šä¸ªäº‹ä»¶ç”Ÿäº§è€…çš„æƒ…å†µä¸‹ä¼šå¯¼è‡´äº‹ä»¶æ¶ˆè´¹è€…å¤±é€Ÿï¼Œä»è€Œä¸å¾—ä¸é‡å¯åº”ç”¨æ‰èƒ½ä¼šæ¢å¤ã€‚</p><br><p>Disruptor 3.0æä¾›äº†lambdaå¼çš„APIã€‚è¿™æ ·å¯ä»¥æŠŠä¸€äº›å¤æ‚çš„æ“ä½œæ”¾åœ¨Ring Bufferï¼Œæ‰€ä»¥åœ¨Disruptor3.0ä»¥åçš„ç‰ˆæœ¬æœ€å¥½ä½¿ç”¨Event Publisheræˆ–è€…Event Translatoræ¥å‘å¸ƒäº‹ä»¶ã€‚</p><br><p>&nbsp;</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventProducerWithTranslator {<br>    </span><span class="s3" style="color: #808080;">//ä¸€ä¸ªtranslatorå¯ä»¥çœ‹åšä¸€ä¸ªäº‹ä»¶åˆå§‹åŒ–å™¨ï¼ŒpublicEventæ–¹æ³•ä¼šè°ƒç”¨å®ƒ<br></span><span class="s3" style="color: #808080;">    //å¡«å……Event<br></span><span class="s0" style="color: #cc7832;">    private static final </span><span class="s1" style="color: #a9b7c6;">EventTranslatorOneArg&lt;LongEvent</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">ByteBuffer&gt; TRANSLATOR =<br>            </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">EventTranslatorOneArg&lt;LongEvent</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">ByteBuffer&gt;() {<br>                </span><span class="s0" style="color: #cc7832;">public void </span><span class="s1" style="color: #a9b7c6;">translateTo(LongEvent event</span><span class="s0" style="color: #cc7832;">, long </span><span class="s1" style="color: #a9b7c6;">sequence</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">ByteBuffer bb) {<br>                    event.setValue(bb.getLong(</span><span class="s4" style="color: #6897bb;">0</span><span class="s1" style="color: #a9b7c6;">))</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>                }<br>            }</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s0" style="color: #cc7832;">    private final </span><span class="s1" style="color: #a9b7c6;">RingBuffer&lt;LongEvent&gt; ringBuffer</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s0" style="color: #cc7832;">    public </span><span class="s1" style="color: #a9b7c6;">LongEventProducerWithTranslator(RingBuffer&lt;LongEvent&gt; ringBuffer) {<br>        </span><span class="s0" style="color: #cc7832;">this</span><span class="s1" style="color: #a9b7c6;">.ringBuffer = ringBuffer</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br><br>    </span><span class="s0" style="color: #cc7832;">public void </span><span class="s1" style="color: #a9b7c6;">onData(ByteBuffer bb) {<br>        ringBuffer.publishEvent(TRANSLATOR</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">bb)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br>} </span></pre><br><p>ä¸Šé¢å†™æ³•çš„å¦ä¸€ä¸ªå¥½å¤„æ˜¯ï¼ŒTranslatorå¯ä»¥åˆ†ç¦»å‡ºæ¥å¹¶ä¸”æ›´åŠ å®¹æ˜“å•å…ƒæµ‹è¯•ã€‚Disruptoræä¾›äº†ä¸åŒçš„æ¥å£(EventTranslator, EventTranslatorOneArg, EventTranslatorTwoArg, ç­‰ç­‰)å»äº§ç”Ÿä¸€ä¸ªTranslatorå¯¹è±¡ã€‚å¾ˆæ˜æ˜¾ï¼ŒTranslatorä¸­æ–¹æ³•çš„å‚æ•°æ˜¯é€šè¿‡RingBufferæ¥ä¼ é€’çš„ã€‚</p><br><p>&nbsp;</p><br><p>æœ€åä¸€æ­¥å°±æ˜¯æŠŠæ‰€æœ‰çš„ä»£ç ç»„åˆèµ·æ¥å®Œæˆä¸€ä¸ªå®Œæ•´çš„äº‹ä»¶å¤„ç†ç³»ç»Ÿã€‚Disruptoråœ¨è¿™æ–¹é¢åšäº†ç®€åŒ–ï¼Œä½¿ç”¨äº†DSLé£æ ¼çš„ä»£ç ï¼ˆå…¶å®å°±æ˜¯æŒ‰ç…§ç›´è§‚çš„å†™æ³•ï¼Œä¸å¤ªèƒ½ç®—å¾—ä¸ŠçœŸæ­£çš„DSLï¼‰ã€‚è™½ç„¶DSLçš„å†™æ³•æ¯”è¾ƒç®€å•ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰æä¾›æ‰€æœ‰çš„é€‰é¡¹ã€‚å¦‚æœä¾é DSLå·²ç»å¯ä»¥å¤„ç†å¤§éƒ¨åˆ†æƒ…å†µäº†ã€‚</p><br><p>&nbsp;</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventMain {<br>    </span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">main(String[] args) </span><span class="s0" style="color: #cc7832;">throws </span><span class="s1" style="color: #a9b7c6;">InterruptedException {<br>        </span><span class="s3" style="color: #808080;">// Executor that will be used to construct new threads for consumers</span><span class="s1" style="color: #a9b7c6;"><br>        Executor executor = Executors.newCachedThreadPool()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // The factory for the event</span><span class="s1" style="color: #a9b7c6;"><br>        LongEventFactory factory = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">LongEventFactory()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Specify the size of the ring buffer, must be power of 2.<br></span><span class="s0" style="color: #cc7832;">        int </span><span class="s1" style="color: #a9b7c6;">bufferSize = </span><span class="s4" style="color: #6897bb;">1024</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Construct the Disruptor</span><span class="s1" style="color: #a9b7c6;"><br>        Disruptor&lt;LongEvent&gt; disruptor = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">Disruptor&lt;LongEvent&gt;(factory</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">bufferSize</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">executor)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Connect the handler</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.handleEventsWith(</span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">LongEventHandler())</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Start the Disruptor, starts all threads running</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.start()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Get the ring buffer from the Disruptor to be used for publishing.</span><span class="s1" style="color: #a9b7c6;"><br>        RingBuffer&lt;LongEvent&gt; ringBuffer = disruptor.getRingBuffer()</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        LongEventProducer producer = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">LongEventProducer(ringBuffer)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        ByteBuffer bb = ByteBuffer.allocate(</span><span class="s4" style="color: #6897bb;">8</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s0" style="color: #cc7832;">        for </span><span class="s1" style="color: #a9b7c6;">(</span><span class="s0" style="color: #cc7832;">long </span><span class="s1" style="color: #a9b7c6;">l = </span><span class="s4" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">; true; </span><span class="s1" style="color: #a9b7c6;">l++) {<br>            bb.putLong(</span><span class="s4" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">l)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            producer.onData(bb)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            Thread.sleep(</span><span class="s4" style="color: #6897bb;">1000</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>        }<br>    }<br>} </span></pre><br><h2>ä½¿ç”¨Java 8</h2><br><p>Disruptoråœ¨è‡ªå·±çš„æ¥å£é‡Œé¢æ·»åŠ äº†å¯¹äºJava 8 Lambdaçš„æ”¯æŒã€‚å¤§éƒ¨åˆ†Disruptorä¸­çš„æ¥å£éƒ½ç¬¦åˆFunctional Interfaceçš„è¦æ±‚ï¼ˆä¹Ÿå°±æ˜¯åœ¨æ¥å£ä¸­ä»…ä»…æœ‰ä¸€ä¸ªæ–¹æ³•ï¼‰ã€‚æ‰€ä»¥åœ¨Disruptorä¸­ï¼Œå¯ä»¥å¹¿æ³›ä½¿ç”¨Lambdaæ¥ä»£æ›¿è‡ªå®šä¹‰ç±»ã€‚</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventMainJava8 {<br>    </span><span class="s2" style="color: #629755;">/** 
      ç”¨lambdaè¡¨è¾¾å¼æ¥æ³¨å†ŒEventHandlerå’ŒEventProductor<br>     <em> @param args 
     </em> @throws InterruptedException<br>     */</span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">main(String[] args) </span><span class="s0" style="color: #cc7832;">throws </span><span class="s1" style="color: #a9b7c6;">InterruptedException {<br>        </span><span class="s3" style="color: #808080;">// Executor that will be used to construct new threads for consumers</span><span class="s1" style="color: #a9b7c6;"><br>        Executor executor = Executors.newCachedThreadPool()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Specify the size of the ring buffer, must be power of 2.<br></span><span class="s0" style="color: #cc7832;">        int </span><span class="s1" style="color: #a9b7c6;">bufferSize = </span><span class="s4" style="color: #6897bb;">1024</span><span class="s0" style="color: #cc7832;">;</span><span class="s3" style="color: #808080;">// Construct the Disruptor</span><span class="s1" style="color: #a9b7c6;"><br>        Disruptor&lt;LongEvent&gt; disruptor = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">Disruptor&lt;&gt;(LongEvent::</span><span class="s0" style="color: #cc7832;">new, </span><span class="s1" style="color: #a9b7c6;">bufferSize</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">executor)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // å¯ä»¥ä½¿ç”¨lambdaæ¥æ³¨å†Œä¸€ä¸ªEventHandler</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.handleEventsWith((event</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">sequence</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">endOfBatch) -&gt; System.out.println(</span><span class="s5" style="color: #6a8759;">â€œEvent: â€œ </span><span class="s1" style="color: #a9b7c6;">+ event.getValue()))</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Start the Disruptor, starts all threads running</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.start()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s3" style="color: #808080;">        // Get the ring buffer from the Disruptor to be used for publishing.</span><span class="s1" style="color: #a9b7c6;"><br>        RingBuffer&lt;LongEvent&gt; ringBuffer = disruptor.getRingBuffer()</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        LongEventProducer producer = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">LongEventProducer(ringBuffer)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        ByteBuffer bb = ByteBuffer.allocate(</span><span class="s4" style="color: #6897bb;">8</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;</span><span class="s0" style="color: #cc7832;">for </span><span class="s1" style="color: #a9b7c6;">(</span><span class="s0" style="color: #cc7832;">long </span><span class="s1" style="color: #a9b7c6;">l = </span><span class="s4" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">; true; </span><span class="s1" style="color: #a9b7c6;">l++) {<br>            bb.putLong(</span><span class="s4" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">l)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            ringBuffer.publishEvent((event</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">sequence</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">buffer) -&gt; event.setValue(buffer.getLong(</span><span class="s4" style="color: #6897bb;">0</span><span class="s1" style="color: #a9b7c6;">))</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">bb)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            Thread.sleep(</span><span class="s4" style="color: #6897bb;">1000</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>        }<br>    }<br>} </span></pre><br><p>åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæœ‰å¾ˆå¤šè‡ªå®šä¹‰ç±»å‹å¯ä»¥è¢«çœç•¥äº†ã€‚è¿˜æœ‰æ³¨æ„çš„æ˜¯ï¼špublishEventæ–¹æ³•ä¸­ä»…è°ƒç”¨ä¼ é€’ç»™å®ƒçš„å‚æ•°ï¼Œå¹¶ä¸æ˜¯ç›´æ¥è°ƒç”¨å¯¹åº”çš„å¯¹è±¡ã€‚å¦‚æœæŠŠè¿™æ®µä»£ç æ¢æˆä¸‹é¢çš„ä»£ç ï¼š</p><br><p>&nbsp;</p><br><pre><span class="n">ByteBuffer</span> <span class="n">bb</span> <span class="o" style="font-weight: bold;">=</span> <span class="n">ByteBuffer</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">allocate</span><span class="o" style="font-weight: bold;">(</span><span class="mi" style="color: #009999;">8</span><span class="o" style="font-weight: bold;">);</span><br><span class="k" style="font-weight: bold;">for</span> <span class="o" style="font-weight: bold;">(</span><span class="kt" style="font-weight: bold; color: #445588;">long</span> <span class="n">l</span> <span class="o" style="font-weight: bold;">=</span> <span class="mi" style="color: #009999;">0</span><span class="o" style="font-weight: bold;">;</span> <span class="kc" style="font-weight: bold;">true</span><span class="o" style="font-weight: bold;">;</span> <span class="n">l</span><span class="o" style="font-weight: bold;">++)</span><br><span class="o" style="font-weight: bold;">{</span><br>    <span class="n">bb</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">putLong</span><span class="o" style="font-weight: bold;">(</span><span class="mi" style="color: #009999;">0</span><span class="o" style="font-weight: bold;">,</span> <span class="n">l</span><span class="o" style="font-weight: bold;">);</span><br>    <span class="n">ringBuffer</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">publishEvent</span><span class="o" style="font-weight: bold;">((</span><span class="n">event</span><span class="o" style="font-weight: bold;">,</span> <span class="n">sequence</span><span class="o" style="font-weight: bold;">)</span> <span class="o" style="font-weight: bold;">-&gt;</span> <span class="n">event</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">set</span><span class="o" style="font-weight: bold;">(</span><span class="n">bb</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">getLong</span><span class="o" style="font-weight: bold;">(</span><span class="mi" style="color: #009999;">0</span><span class="o" style="font-weight: bold;">)));</span><br>    <span class="n">Thread</span><span class="o" style="font-weight: bold;">.</span><span class="na" style="color: teal;">sleep</span><span class="o" style="font-weight: bold;">(</span><span class="mi" style="color: #009999;">1000</span><span class="o" style="font-weight: bold;">);</span><br><span class="o" style="font-weight: bold;">}</span></pre><br><p>è¿™æ®µä»£ç ä¸­æœ‰ä¸€ä¸ªæ•è·å‚æ•°çš„lambdaï¼Œæ„å‘³ç€åœ¨lambdaè¡¨è¾¾å¼ç”Ÿæˆçš„å†…éƒ¨ç±»ä¸­ä¼šç”Ÿæˆä¸€ä¸ªå¯¹è±¡æ¥å­˜å‚¨è¿™ä¸ªæ•è·çš„bbå¯¹è±¡ã€‚è¿™ä¼šå¢åŠ ä¸å¿…è¦çš„GCã€‚æ‰€ä»¥åœ¨éœ€è¦è¾ƒä½GCæ°´å¹³çš„æƒ…å†µä¸‹æœ€å¥½æŠŠæ‰€æœ‰çš„å‚æ•°éƒ½é€šè¿‡publishEventä¼ é€’ã€‚</p><br><p>&nbsp;</p><br><p>ç”±äºåœ¨Java 8ä¸­æ–¹æ³•å¼•ç”¨ä¹Ÿæ˜¯ä¸€ä¸ªlambdaï¼Œå› æ­¤è¿˜å¯ä»¥æŠŠä¸Šé¢çš„ä»£ç æ”¹æˆä¸‹é¢çš„ä»£ç ï¼š</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">LongEventWithMethodRef {<br>    </span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">handleEvent(LongEvent event</span><span class="s0" style="color: #cc7832;">, long </span><span class="s1" style="color: #a9b7c6;">sequence</span><span class="s0" style="color: #cc7832;">, boolean </span><span class="s1" style="color: #a9b7c6;">endOfBatch)<br>    {<br>        System.out.println(event.getValue())</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br><br>    </span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">translate(LongEvent event</span><span class="s0" style="color: #cc7832;">, long </span><span class="s1" style="color: #a9b7c6;">sequence</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">ByteBuffer buffer)<br>    {<br>        event.setValue(buffer.getLong(</span><span class="s3" style="color: #6897bb;">0</span><span class="s1" style="color: #a9b7c6;">))</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>    }<br><br>    </span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">main(String[] args) </span><span class="s0" style="color: #cc7832;">throws </span><span class="s1" style="color: #a9b7c6;">Exception<br>    {<br>        </span><span class="s4" style="color: #808080;">// Executor that will be used to construct new threads for consumers</span><span class="s1" style="color: #a9b7c6;"><br>        Executor executor = Executors.newCachedThreadPool()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s4" style="color: #808080;">        // Specify the size of the ring buffer, must be power of 2.<br></span><span class="s0" style="color: #cc7832;">        int </span><span class="s1" style="color: #a9b7c6;">bufferSize = </span><span class="s3" style="color: #6897bb;">1024</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s4" style="color: #808080;">        // Construct the Disruptor</span><span class="s1" style="color: #a9b7c6;"><br>        Disruptor&lt;LongEvent&gt; disruptor = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">Disruptor&lt;&gt;(LongEvent::</span><span class="s0" style="color: #cc7832;">new, </span><span class="s1" style="color: #a9b7c6;">bufferSize</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">executor)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s4" style="color: #808080;">        // Connect the handler</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.handleEventsWith(LongEventWithMethodRef::handleEvent)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s4" style="color: #808080;">        // Start the Disruptor, starts all threads running</span><span class="s1" style="color: #a9b7c6;"><br>        disruptor.start()</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s4" style="color: #808080;">        // Get the ring buffer from the Disruptor to be used for publishing.</span><span class="s1" style="color: #a9b7c6;"><br>        RingBuffer&lt;LongEvent&gt; ringBuffer = disruptor.getRingBuffer()</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        LongEventProducer producer = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">LongEventProducer(ringBuffer)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br><br>        ByteBuffer bb = ByteBuffer.allocate(</span><span class="s3" style="color: #6897bb;">8</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;<br></span><span class="s0" style="color: #cc7832;">        for </span><span class="s1" style="color: #a9b7c6;">(</span><span class="s0" style="color: #cc7832;">long </span><span class="s1" style="color: #a9b7c6;">l = </span><span class="s3" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">; true; </span><span class="s1" style="color: #a9b7c6;">l++)<br>        {<br>            bb.putLong(</span><span class="s3" style="color: #6897bb;">0</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">l)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            ringBuffer.publishEvent(LongEventWithMethodRef::translate</span><span class="s0" style="color: #cc7832;">, </span><span class="s1" style="color: #a9b7c6;">bb)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>            Thread.sleep(</span><span class="s3" style="color: #6897bb;">1000</span><span class="s1" style="color: #a9b7c6;">)</span><span class="s0" style="color: #cc7832;">;</span><span class="s1" style="color: #a9b7c6;"><br>        }<br>    }<br>} </span></pre><br><p>&nbsp;</p><br><h2 style="color: #000000;">åŸºæœ¬è°ƒæ•´é€‰é¡¹</h2><br><p style="color: #000000;">ä¸Šé¢çš„ä»£ç å·²ç»å¯ä»¥å¤„ç†å¤§å¤šæ•°çš„æƒ…å†µäº†ï¼Œä½†æ˜¯åœ¨æœ‰çš„æ—¶å€™è¿˜æ˜¯ä¼šéœ€è¦æ ¹æ®ä¸åŒçš„è½¯ä»¶æˆ–è€…ç¡¬ä»¶æ¥è°ƒæ•´é€‰é¡¹ä»¥è·å¾—æ›´é«˜çš„æ€§èƒ½ã€‚åŸºæœ¬çš„é€‰é¡¹æœ‰ä¸¤ä¸ªï¼šå•æˆ–è€…å¤šç”Ÿäº§è€…æ¨¡å¼å’Œå¯é€‰çš„ç­‰å¾…ç­–ç•¥ã€‚</p><br><h3>å•æˆ–å¤š äº‹ä»¶ç”Ÿäº§è€…</h3><br><p>åœ¨å¹¶å‘ç³»ç»Ÿä¸­æé«˜æ€§èƒ½æœ€å¥½çš„æ–¹å¼ä¹‹ä¸€å°±æ˜¯<a href="http://mechanical-sympathy.blogspot.co.nz/2011/09/single-writer-principle.html" target="_blank" rel="external">å•ä¸€å†™è€…åŸåˆ™</a>ï¼Œå¯¹Disruptorä¹Ÿæ˜¯é€‚ç”¨çš„ã€‚å¦‚æœåœ¨ä½ çš„ä»£ç ä¸­ä»…ä»…æœ‰ä¸€ä¸ªäº‹ä»¶ç”Ÿäº§è€…ï¼Œé‚£ä¹ˆå¯ä»¥è®¾ç½®ä¸ºå•ä¸€ç”Ÿäº§è€…æ¨¡å¼æ¥æé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p><br><p>&nbsp;</p><br><pre style="color: #000000;"><span class="s0" style="color: #cc7832;">public class </span><span class="s1" style="color: #a9b7c6;">singleProductorLongEventMain {<br>    </span><span class="s0" style="color: #cc7832;">public static void </span><span class="s1" style="color: #a9b7c6;">main(String[] args) </span><span class="s0" style="color: #cc7832;">throws </span><span class="s1" style="color: #a9b7c6;">Exception {<br>        </span><span class="s3" style="color: #808080;">//â€¦..</span><span class="s3" style="color: #808080;">// Construct the Disruptor with a SingleProducerSequencer</span><span class="s1" style="color: #a9b7c6;"><br><br>        Disruptor&lt;LongEvent&gt; disruptor = </span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">Disruptor(factory</span><span class="s0" style="color: #cc7832;">,</span><span class="s1" style="color: #a9b7c6;"><br>                bufferSize</span><span class="s0" style="color: #cc7832;">,</span><span class="s1" style="color: #a9b7c6;"><br>                ProducerType.SINGLE</span><span class="s0" style="color: #cc7832;">, </span><span class="s3" style="color: #808080;">// Single producer</span><span class="s0" style="color: #cc7832;">new </span><span class="s1" style="color: #a9b7c6;">BlockingWaitStrategy()</span><span class="s0" style="color: #cc7832;">,</span><span class="s1" style="color: #a9b7c6;"><br>                executor)</span><span class="s0" style="color: #cc7832;">;</span><span class="s3" style="color: #808080;">//â€¦..</span><span class="s1" style="color: #a9b7c6;"><br>    }<br>}<br></span></pre><br><p>ä¸ºäº†è¯æ˜ï¼Œä¸‹é¢çš„æ•°æ®æ˜¯ä»Mac Air i7ä¸Šé¢æµ‹è¯•çš„ç»“æœï¼š</p><br><h3>å¤šç”Ÿäº§è€…ï¼š</h3><br><p>&nbsp;</p><br><pre><code>Run 0, Disruptor=26,553,372 ops/sec<br>Run 1, Disruptor=28,727,377 ops/sec<br>Run 2, Disruptor=29,806,259 ops/sec<br>Run 3, Disruptor=29,717,682 ops/sec<br>Run 4, Disruptor=28,818,443 ops/sec<br>Run 5, Disruptor=29,103,608 ops/sec<br>Run 6, Disruptor=29,239,766 ops/sec</code></pre><br><h3>å•ç”Ÿäº§è€…ï¼š</h3><br><pre><code>Run 0, Disruptor=89,365,504 ops/sec<br>Run 1, Disruptor=77,579,519 ops/sec<br>Run 2, Disruptor=78,678,206 ops/sec<br>Run 3, Disruptor=80,840,743 ops/sec<br>Run 4, Disruptor=81,037,277 ops/sec<br>Run 5, Disruptor=81,168,831 ops/sec<br>Run 6, Disruptor=81,699,346 ops/sec</code></pre><br><p>&nbsp;</p><br><h2><strong> å¯é€‰çš„ç­‰å¾…ç­–ç•¥</strong></h2><br><p>Disruptoré»˜è®¤çš„ç­‰å¾…ç­–ç•¥æ˜¯BlockingWaitStrategyã€‚è¿™ä¸ªç­–ç•¥çš„å†…éƒ¨é€‚ç”¨ä¸€ä¸ªé”å’Œæ¡ä»¶å˜é‡æ¥æ§åˆ¶çº¿ç¨‹çš„æ‰§è¡Œå’Œç­‰å¾…ï¼ˆJavaåŸºæœ¬çš„åŒæ­¥æ–¹æ³•ï¼‰ã€‚BlockingWaitStrategyæ˜¯æœ€æ…¢çš„ç­‰å¾…ç­–ç•¥ï¼Œä½†ä¹Ÿæ˜¯CPUä½¿ç”¨ç‡æœ€ä½å’Œæœ€ç¨³å®šçš„é€‰é¡¹ã€‚ç„¶è€Œï¼Œå¯ä»¥æ ¹æ®ä¸åŒçš„éƒ¨ç½²ç¯å¢ƒè°ƒæ•´é€‰é¡¹ä»¥æé«˜æ€§èƒ½ã€‚</p><br><h3>SleepingWaitStrategy</h3><br><p>å’ŒBlockingWaitStrategyä¸€æ ·ï¼ŒSpleepingWaitStrategyçš„CPUä½¿ç”¨ç‡ä¹Ÿæ¯”è¾ƒä½ã€‚å®ƒçš„æ–¹å¼æ˜¯å¾ªç¯ç­‰å¾…å¹¶ä¸”åœ¨å¾ªç¯ä¸­é—´è°ƒç”¨LockSupport.parkNanos(1)æ¥ç¡çœ ï¼Œï¼ˆåœ¨Linuxç³»ç»Ÿä¸Šé¢ç¡çœ æ—¶é—´60Âµsï¼‰.ç„¶è€Œï¼Œå®ƒçš„ä¼˜ç‚¹åœ¨äºç”Ÿäº§çº¿ç¨‹åªéœ€è¦è®¡æ•°ï¼Œè€Œä¸æ‰§è¡Œä»»ä½•æŒ‡ä»¤ã€‚å¹¶ä¸”æ²¡æœ‰æ¡ä»¶å˜é‡çš„æ¶ˆè€—ã€‚ä½†æ˜¯ï¼Œäº‹ä»¶å¯¹è±¡ä»ç”Ÿäº§è€…åˆ°æ¶ˆè´¹è€…ä¼ é€’çš„å»¶è¿Ÿå˜å¤§äº†ã€‚SleepingWaitStrategyæœ€å¥½ç”¨åœ¨ä¸éœ€è¦ä½å»¶è¿Ÿï¼Œè€Œä¸”äº‹ä»¶å‘å¸ƒå¯¹äºç”Ÿäº§è€…çš„å½±å“æ¯”è¾ƒå°çš„æƒ…å†µä¸‹ã€‚æ¯”å¦‚å¼‚æ­¥æ—¥å¿—åŠŸèƒ½ã€‚</p><br><h3>YieldingWaitStrategy</h3><br><p>YieldingWaitStrategyæ˜¯å¯ä»¥è¢«ç”¨åœ¨ä½å»¶è¿Ÿç³»ç»Ÿä¸­çš„ä¸¤ä¸ªç­–ç•¥ä¹‹ä¸€ï¼Œè¿™ç§ç­–ç•¥åœ¨å‡ä½ç³»ç»Ÿå»¶è¿Ÿçš„åŒæ—¶ä¹Ÿä¼šå¢åŠ CPUè¿ç®—é‡ã€‚YieldingWaitStrategyç­–ç•¥ä¼šå¾ªç¯ç­‰å¾…sequenceå¢åŠ åˆ°åˆé€‚çš„å€¼ã€‚å¾ªç¯ä¸­è°ƒç”¨Thread.yield()å…è®¸å…¶ä»–å‡†å¤‡å¥½çš„çº¿ç¨‹æ‰§è¡Œã€‚å¦‚æœéœ€è¦é«˜æ€§èƒ½è€Œä¸”äº‹ä»¶æ¶ˆè´¹è€…çº¿ç¨‹æ¯”é€»è¾‘å†…æ ¸å°‘çš„æ—¶å€™ï¼Œæ¨èä½¿ç”¨YieldingWaitStrategyç­–ç•¥ã€‚ä¾‹å¦‚ï¼šåœ¨å¼€å¯è¶…çº¿ç¨‹çš„æ—¶å€™ã€‚</p><br><h3>BusySpinWaitStrategy</h3><br><p>BusySpinWaitStrategyæ˜¯æ€§èƒ½æœ€é«˜çš„ç­‰å¾…ç­–ç•¥ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å¯¹éƒ¨ç½²ç¯å¢ƒè¦æ±‚æœ€é«˜çš„ç­–ç•¥ã€‚è¿™ä¸ªæ€§èƒ½æœ€å¥½ç”¨åœ¨äº‹ä»¶å¤„ç†çº¿ç¨‹æ¯”ç‰©ç†å†…æ ¸æ•°ç›®è¿˜è¦å°çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼šåœ¨ç¦ç”¨è¶…çº¿ç¨‹æŠ€æœ¯çš„æ—¶å€™ã€‚</p><br><h3></h3><br><p>&nbsp;</p><br><div style="margin-top: 15px; font-style: italic"><br><p><strong>åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·æ³¨æ˜ï¼š</strong> è½¬è½½è‡ª<a href="http://ifeve.com/" target="_blank" rel="external">å¹¶å‘ç¼–ç¨‹ç½‘ &#8211; ifeve.com</a><strong>æœ¬æ–‡é“¾æ¥åœ°å€:</strong> <a href="http://ifeve.com/disruptor-getting-started/" target="_blank" rel="external">Disruptorå…¥é—¨</a></p><br></div>
</div>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="https://bloodorange2017.github.io/images/img_head_001.jpg"
               alt="XueCheng" />
          <p class="site-author-name" itemprop="name">XueCheng</p>
           
              <p class="site-description motion-element" itemprop="description">Do one thing at a time, and do well.</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">38</span>
                <span class="site-state-item-name">posts</span>
              </a>
            </div>
          

          

          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">XueCheng</span>
</div>


<div class="powered-by">
  Powered by <a class="theme-link" href="https://hexo.io">Hexo</a>
</div>

<div class="theme-info">
  Theme -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

<script type="text/javascript"
color="160,160,233" opacity='0.4' zIndex="-2" count="16" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
</body>
</html>
